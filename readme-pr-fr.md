<img src="/assets/jtbp-header-blue.png" width="1920px"/>


<br/>

# ๐  ฺุฑุง ุงู ุฑุงูููุง ู ุชูุงูุฏ ููุงุฑุช ูุง ุขุฒูุงุด ุดูุง ุฑุง ุจู ุณุทุญ ุจุนุฏ ุจุฑุณุงูุฏ

<br/>

## ๐ 50+ ุชุง ุงุฒ ุจูุชุฑู ุดูู ูุง: ููู ุงูุนุงุฏู ุฌุงูุน ู ุฌุงูุน 

ุงู ุฑุงูููุง ูุงุจูุช ุงุทููุงู JavaScript & Node.js ุงุฒ A-Z ุงุณุช. ุฏูโูุง ููุฑุฏ ุงุฒ ุจูุชุฑู ูพุณุชโูุงุ ฺฉุชุงุจโูุง ู ุงุจุฒุงุฑูุง ฺฉู ุจุงุฒุงุฑ ุงุฑุงุฆู ูโุฏูุฏ ุฑุง ุจุฑุง ุดูุง ุฎูุงุตู ู ฺฏุฑุฏุขูุฑ ูโฺฉูุฏ.

## ๐ข ูพุดุฑูุชู: 10000 ูุงู ูุฑุงุชุฑ ุงุฒ ุงุตูู ุงููู ู ุฑูุฏ 

ุจู ุณูุฑ ุจุฑูุฏ ฺฉู ุจุณุงุฑ ูุฑุงุชุฑ ุงุฒ ุงุตูู ุงููู ุจู ููุถูุนุงุช ูพุดุฑูุชู ุง ูุงููุฏ ุขุฒูุงุด ุฏุฑ ุชููุฏุ ุขุฒูุงุด ุฌูุดุ ุขุฒูุงุด ูุจุชู ุจุฑ ุฏุงุฑุง ู ุจุณุงุฑ ุงุฒ ุงุจุฒุงุฑูุง ุงุณุชุฑุงุชฺฺฉ ู ุญุฑูู ุง ุฏฺฏุฑ ุณูุฑ ู ฺฉูุฏ. ุงฺฏุฑ ุชูุงู ฺฉููุงุช ุงู ุฑุงูููุง ุฑุง ุจุฎูุงูุฏุ ุงุญุชูุงูุงู ููุงุฑุช ูุง ุชุณุช ุฒู ุดูุง ุจุณุงุฑ ุจุงูุงุชุฑ ุงุฒ ุญุฏ ูุชูุณุท ุฎูุงูุฏ ุจูุฏ

## ๐ Full-stack: front, backend, CI, ูุฑ ฺุฒ

ุจุง ุฏุฑฺฉ ุฑูุดโูุง ุชุณุช ููู ุฌุง ุญุงุถุฑ ฺฉู ูพุงู ู ุงุณุงุณ ูุฑ ุณุทุญ ุจุฑูุงูู ูุณุชูุฏุ ุดุฑูุน ฺฉูุฏ. ุณูพุณุ ุจู ุญูุฒู ุงูุชุฎุงุจ ุฎูุฏ ุจูพุฑุฏุงุฒุฏ: frontend/UIุ backendุ CI ุง ุดุงุฏ ููู ุขููุงุ

<br/>

### Yoni Goldberg ููุดุชู ุดุฏู ุชูุณุท

- JavaScript & Node.js ูุดุงูุฑู
- ๐ [ุชุณุช ฺฉุฑุฏู Node.js & JavaScript ุงุฒ A ุชุง Z](https://www.testjavascript.com) - ุฏูุฑู ุฌุงูุน ุขููุงู ูู ุจุง ุจุด ุงุฒ [7 ุณุงุนุช ูุฏู](https://www.testjavascript.com), 14 ุงููุงุน ุชุณุช ู ุจุด ุงุฒ 40 ุจูุชุฑู ุฑูุด
- [ูู ุฑุง ุฏุฑ ุชูุชุฑ ุฏูุจุงู ฺฉูุฏ](https://twitter.com/goldbergyoni/)
- [ฺฉุงุฑฺฏุงู ุจุนุฏ: ูุฑููุงุ ุงุชุงูุง ๐ฎ๐นุ 20 ุขูุฑู](https://2022.jsday.it/workshop/nodejs_testing.html)

<br/>


## `ููุฑุณุช ูุทุงูุจ`

#### [`ุจุฎุด 0: ูุงุนุฏู ุทูุง`](#section-0๏ธโฃ-the-golden-rule)

ฺฉ ุชูุตู ูุงุญุฏ ฺฉู ุงููุงู ุจุฎุด ุจูู ุงุณุช (1 ฺฏูููู ูฺู)

#### [`ุจุฎุด 1: ุขูุงุชูู ุชุณุช`](#section-1-the-test-anatomy-1)

ูููุฏุงุณูู - ุชุณุช ูุง ุชูุฒ ุณุงุฎุชุงุฑ (12 ฺฏูููู)

#### [`Backend :ุจุฎุด 2`](#section-2๏ธโฃ-backend-testing)

ููุดุชู ุชุณุช ูุง backend ู ูฺฉุฑูุณุฑูุณ ุจู ุทูุฑ ููุซุฑ (13 ฺฏูููู)

#### [`Frontend :ุจุฎุด 3`](#section-3๏ธโฃ-frontend-testing)

ููุดุชู ุชุณุช ูุง ุจุฑุง ุฑุงุจุท ฺฉุงุฑุจุฑ ูุจ ุดุงูู ุชุณุช ูุง ฺฉุงููพูููุช ู E2E
(11 ฺฏูููู)

#### [`ุจุฎุด 4: ุงูุฏุงุฒู ฺฏุฑ ุงุซุฑุจุฎุด ุขุฒููู ูุง`](#section-4๏ธโฃ-measuring-test-effectiveness)

ุชูุงุดุง ูฺฏูุจุงู - ุงูุฏุงุฒู ฺฏุฑ ฺฉูุช ุชุณุช (4 ฺฏูููู)

#### [`ุจุฎุด 5: ฺฉูพุงุฑฺู ุณุงุฒ ูุฏุงูู`](#section-5๏ธโฃ-ci-and-other-quality-measures)

ุฏุณุชูุฑุงูุนูู ูุง CI ุฏุฑ ุฏูุง JS (9 ฺฏูููู)

<br/><br/>

# ุจุฎุด 0๏ธโฃ: ูุงุนุฏู ุทูุง

<br/>

## โช๏ธ 0 ูุงููู ุทูุง: ุทุฑุงุญ ุจุฑุง ุชุณุช ูุงุจ 

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:**

ุชุณุช ฺฉุฑุฏู ฺฉุฏ ุตุฑูุง ููุดุชู ฺฉุฏ ูุณุช - ุขู ุฑุง ุทูุฑ ุทุฑุงุญ ฺฉูุฏ ฺฉู ฺฉูุชุงูุ ุณุงุฏูุ ูุณุทุญุ ู ฺฉุงุฑ ฺฉุฑุฏู ุจุง ุขู ูุฐุช ุจุฎุด ุจุงุดุฏ. ุจุงุฏ ุจู ฺฉ ุชุณุช ูฺฏุงู ฺฉุฑุฏ ู ููุฑุงู ูุฏู ุฑุง ุฏุฑุงูุช ฺฉุฑุฏ.

ุจุจูุฏุ ุฐูู ูุง ุงุฒ ูุจู ูุดุบูู ฺฉุงุฑ ุงุตู ูุง - ููุดุชู ฺฉุฏ ุงุณุช. ุจุฑุง ูพฺุฏฺฏ ุงุถุงูุ ูฺ ูุถุง ูุฌูุฏ ูุฏุงุฑุฏ. ุงฺฏุฑ ุจุฎูุงูู ฺฉ ุณุณุชู sus-system ุฏฺฏุฑ ุฑุง ุฏุฑ ูุบุฒ ุถุนู ุฎูุฏ ุจูุดุงุฑูุ ุณุฑุนุช ุชู ุฑุง ฺฉุงูุด ูโุฏูุฏ ฺฉู ุจุฑุฎูุงู ุฏูู ฺฉู ูุง ุชุณุช ูโฺฉูู ุนูู ูโฺฉูุฏ. ุนููุงู ุงูุฌุงุณุช ฺฉู ุจุณุงุฑ ุงุฒ ุชูโูุง ุชุณุช ุฑุง ุฑูุง ูโฺฉููุฏ.

ุชุณุช ูุง ูุฑุตุช ุจุฑุง ฺุฒ ุฏฺฏุฑ ูุณุชูุฏ - ฺฉ ุฏุณุชุงุฑ ุฏูุณุชุงููุ ฺฉูฺฉ ุฎูุจุงูุ ฺฉู ุงุฑุฒุด ุฒุงุฏ ุจุฑุง ฺฉ ุณุฑูุงู ฺฏุฐุงุฑ ฺฉูฺฺฉ ุงุฑุงุฆู ู ุฏูุฏ. ุนูู ุจู ูุง ู ฺฏูุฏ ฺฉู ูุง ุฏู ุณุณุชู ูุบุฒ ุฏุงุฑู: ุณุณุชู 1 ุจุฑุง ูุนุงูุช ูุง ุจ ุฏุฑุฏุณุฑ ูุงููุฏ ุฑุงููุฏฺฏ ูุงุดู ุฏุฑ ฺฉ ุฌุงุฏู ุฎุงู ู ุณุณุชู 2 ฺฉู ุจุฑุง ุนููุงุช ูพฺุฏู ู ุขฺฏุงูุงูู ูุงููุฏ ุญู ฺฉ ูุนุงุฏูู ุฑุงุถ ุงุณุชูุงุฏู ู ุดูุฏ. ุชุณุช ุฎูุฏ ุฑุง ุจุฑุง ุณุณุชู 1 ุทุฑุงุญ ฺฉูุฏุ ุฒูุงู ฺฉู ุจู ฺฉุฏ ุชุณุช ูฺฏุงู ู ฺฉูุฏุ ุจุงุฏ ุจู ุฑุงุญุช ฺฉ ุณูุฏ HTML ุฑุง ุชุบุฑ ุฏูุฏุ ูู ูุงููุฏ ุญู 2X (17 ร 24).

ุงู ุฑุง ู ุชูุงู ุจุง ุชฺฉูฺฉ ูุง ุงูุชุฎุงุจ ุงูุชุฎุงุจ ฺฏูุงุณุ ุงุจุฒุงุฑูุง ู ุงูุฏุงู ุขุฒูุงุด ฺฉู ููุฑูู ุจู ุตุฑูู ูุณุชูุฏ ู ROI ุนุงู ุงุฑุงุฆู ู ุฏููุฏุ ุจู ุฏุณุช ุขูุฑุฏ. ููุท ุจู ุงูุฏุงุฒู ูุงุฒ ุชุณุช ฺฉูุฏุ ุณุน ฺฉูุฏ ุขู ุฑุง ุฒุฑฺฉ ูฺฏู ุฏุงุฑุฏุ ฺฏุงู ุงููุงุช ุญุช ุงุฑุฒุด ุขู ุฑุง ุฏุงุฑุฏ ฺฉู ุจุฑุฎ ุงุฒ ุชุณุช ูุง ุฑุง ฺฉูุงุฑ ุจฺฏุฐุงุฑุฏ ู ูุงุจูุช ุงุทููุงู ุฑุง ุจุฑุง ฺุงุจฺฉ ู ุณุงุฏฺฏ ูุนุงููู ฺฉูุฏ.

![alt text](/assets/headspace.png "We have no head room for additional complexity")

ุจุดุชุฑ ุชูุตู ูุง ุฒุฑ ูุดุชูุงุช ุงู ุงุตู ุงุณุช.

### ุขูุงุฏู ุจุฑุง ุดุฑูุนุ

<br/><br/>

# ุจุฎุด 1: ุขูุงุชูู ุชุณุช

<br/>

## โช ๏ธ 1.1 ุดุงูู 3 ูุณูุช ุฏุฑ ูุฑ ูุงู ุขุฒููู

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ฺฉ ฺฏุฒุงุฑุด ุขุฒูุงุด ุจุงุฏ ุจฺฏูุฏ ฺฉู ุขุง ุจุงุฒุจู ุจุฑูุงูู ูุนู ุงูุฒุงูุงุช ุงูุฑุงุฏ ุฑุง ฺฉู ูุฒููุงู ุจุง ฺฉุฏ ุขุดูุง ูุณุชูุฏ ุจุฑุขูุฑุฏู ู ฺฉูุฏ: ุชุณุช ฺฉููุฏู ุ ูููุฏุณ DevOps ฺฉู ุฏุฑ ุญุงู ุงุณุชูุฑุงุฑ ุงุณุช ู ุดูุง ุขูุฏู ุฏู ุณุงู ุจุนุฏ. ุงฺฏุฑ ุขุฒููู ูุง ุฏุฑ ุณุทุญ ุงูุฒุงูุงุช ุตุญุจุช ฺฉููุฏ ู ุดุงูู 3 ุจุฎุด ุจุงุดูุฏุ ู ุชูุงู ุจู ุจูุชุฑู ูุฌู ุจู ุงู ุงูุฑ ุฏุณุช ุงูุช:

(1) ฺู ฺุฒ ุฏุฑ ุญุงู ุขุฒูุงุด ุงุณุชุ ุจู ุนููุงู ูุซุงูุ ูุชุฏ ProductsService.addNewProduct

(2) ุฏุฑ ฺู ุดุฑุงุท ู ุณูุงุฑูุ ุจุฑุง ูุซุงู ูฺ ููุช ุจู ูุชุฏ ุฏุงุฏู ูู ุดูุฏ

(3) ูุชุฌู  ูุงุจู ุงูุชุธุงุฑ ฺุณุชุ ุจู ุนููุงู ูุซุงูุ ูุญุตูู ุฌุฏุฏ ุชุงุฏ ูุดุฏู ุงุณุช

<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ฺฉ ุงุณุชูุฑุงุฑ ุจูโุชุงุฒฺฏ ูุงูููู ุจูุฏุ ุชุณุช ุจุง ูุงู ยซุงูุฒูุฏู ูุญุตููยป ูุงูููู ุจูุฏ. ุขุง ุงู ุจู ุดูุง ู ฺฏูุฏ ฺฉู ุฏููุงู ฺู ฺุฒ ุฎุฑุงุจ ุงุณุชุ

<br/>

**๐ ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ:** ูุฑ ฺฏูููู ุฏุงุฑุง ููููู ฺฉุฏ ู ฺฏุงู ุงููุงุช ฺฉ ุชุตูุฑ ุชุตูุฑ ูุฒ ู ุจุงุดุฏ. ุจุฑุง ฺฏุณุชุฑุด ฺฉูฺฉ ฺฉูุฏ
<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>
  
<br/>
  
### :clap: ูุซุงู ุฏุฑุณุช: ูุงู ุชุณุช ฺฉู ุงุฒ 3 ูุณูุช ุชุดฺฉู ุดุฏู ุงุณุช

![](https://img.shields.io/badge/๐จ%20Example%20using%20Mocha-blue.svg "Using Mocha to illustrate the idea")

```javascript
//1. ูุงุญุฏ ุฏุฑ ุญุงู ุชุณุช
describe('ุฎุฏูุงุช ูุญุตููุงุช', function() {
  describe('ุงูุฒูุฏู ูุญุตูู ุฌุฏุฏ', function() {
    //2. ุณูุงุฑู ู 3. ุงูุชุธุงุฑ
    it('ููฺฏุงู ฺฉู ููุช ูุดุฎุต ูุดุฏู ุงุณุชุ ูุถุนุช ูุญุตูู ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ ุงุณุช', ()=> {
      const newProduct = new ProductService().add(...);
      expect(newProduct.status).to.equal('pendingApproval');
    });
  });
});

```

<br/>

### :clap: ูุซุงู ุฏุฑุณุช: ูุงู ุขุฒูุงุด ฺฉู ุงุฒ 3 ูุณูุช ุชุดฺฉู ุดุฏู ุงุณุช

![alt text](/assets/bp-1-3-parts.jpeg "A test name that constitutes 3 parts")

</details>


## โช ๏ธ 1.2 ุชุณุช ูุง ุณุงุฎุชุงุฑ ุจุง ุงูฺฏู AAA

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ุณุงุฎุชุงุฑ ุชุณุช ูุง ุฎูุฏ ุฑุง ุจุง 3 ุจุฎุด ุจู ุฎูุจ ุฌุฏุง ุดุฏู ููุฏุงุฑ ุฏู ฺฉูุฏุ ุงุฌุฑุง ฺฉูุฏ ู ููุงุณู ฺฉูุฏ (AAA). ูพุฑู ุงุฒ ุงู ุณุงุฎุชุงุฑ ุชุถูู ู ฺฉูุฏ ฺฉู ุฎูุงููุฏู ูฺ CPU ูุบุฒ ุฑุง ุจุฑุง ุฏุฑฺฉ ุจุฑูุงูู ุขุฒูุงุด ุฎุฑุฌ ูู ฺฉูุฏ:

ุงูู A - ููุฏุงุฑ ุฏุงุฏู: ุชูุงู ฺฉุฏูุง ุฑุงู ุงูุฏุงุฒ ุจุฑุง ุฑุณุงูุฏู ุณุณุชู ุจู ุณูุงุฑู ฺฉู ุชุณุช ูุฏู ุขู ุดุจู ุณุงุฒ ุงุณุช. ุงู ููฺฉู ุงุณุช ุดุงูู ููููู ุณุงุฒ ูุงุญุฏ ุฏุฑ ุญุงู ุขุฒูุงุด ุณุงุฒูุฏูุ ุงุถุงูู ฺฉุฑุฏู ุฑฺฉูุฑุฏูุง DBุ mocking/stubbing ุงุดุง ู ูุฑ ฺฉุฏ ุขูุงุฏู ุณุงุฒ ุฏฺฏุฑ ุจุงุดุฏ.

ุฏูู A - ุงุฌุฑุง: ูุงุญุฏ ุชุญุช ุชุณุช ุฑุง ุงุฌุฑุง ฺฉูุฏ. ูุนูููุง 1 ุฎุท ฺฉุฏ

ุณูู A - ููุงุณู: ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ุงุฑุฒุด ุฏุฑุงูุช ุงูุชุธุงุฑุงุช ุฑุง ุจุฑุขูุฑุฏู ู ฺฉูุฏ. ูุนูููุง 1 ุฎุท ฺฉุฏ

<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ูู ุชููุง ุณุงุนุช ูุง ุจุฑุง ุฏุฑฺฉ ฺฉุฏ ุงุตู ููุช ู ฺฏุฐุงุฑุฏุ ุจูฺฉู ฺุฒ ฺฉู ุจุงุฏ ุณุงุฏู ุชุฑู ูุณูุช ุฑูุฒ ุจุงุดุฏ (ุชุณุช) ูุบุฒ ุดูุง ุฑุง ฺฉุด ู ุฏูุฏ.

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :clap: ูุซุงู ุฏุฑุณุช: ุชุณุช ฺฉู ุจุง ุงูฺฏู AAA ุณุงุฎุชุงุฑ ุงูุชู ุงุณุช

![](https://img.shields.io/badge/๐ง%20Example%20using%20Jest-blue.svg "Examples with Jest") ![](https://img.shields.io/badge/๐ง%20Example%20using%20Mocha-blue.svg "Examples with Mocha")

```javascript
describe("ุทุจูู ุจูุฏ ูุดุชุฑ", () => {
  test("ููฺฏุงู ฺฉู ูุดุชุฑ ุจุด ุงุฒ 500 ุฏูุงุฑ ูุฒูู ฺฉุฑุฏุ ุจุงุฏ ุจู ุนููุงู ุญู ุจูู ุทุจูู ุจูุฏ ุดูุฏ", () => {
    //ููุฏุงุฑ ุฏู ฺฉุฑุฏู
    const customerToClassify = { spent: 505, joined: new Date(), id: 1 };
    const DBStub = sinon.stub(dataAccess, "getCustomer").reply({ id: 1, classification: "regular" });

    //ุงุฌุฑุง ฺฉุฑุฏู
    const receivedClassification = customerClassifier.classifyCustomer(customerToClassify);

    //ููุงุจุณู ฺฉุฑุฏู
    expect(receivedClassification).toMatch("premium");
  });
});
```

<br/>

### :thumbsdown: ูุซุงู ุถุฏ ุงูฺฏู: ุจุฏูู ุฌุฏุงุ ฺฉ ุงูุจููุ ุณุฎุช ุชุฑ ุจุฑุง ุชูุณุฑ

```javascript
test("ุจุงุฏ ุจู ุนููุงู ุญู ุจูู ุทุจูู ุจูุฏ ุดูุฏ", () => {
  const customerToClassify = { spent: 505, joined: new Date(), id: 1 };
  const DBStub = sinon.stub(dataAccess, "getCustomer").reply({ id: 1, classification: "regular" });
  const receivedClassification = customerClassifier.classifyCustomer(customerToClassify);
  expect(receivedClassification).toMatch("premium");
});
```

</details>

<br/><br/>

## โช ๏ธ1.3 ุงูุชุธุงุฑุงุช ุฑุง ุจู ุฒุจุงู ูุญุตูู ุชูุตู ฺฉูุฏ: ุงุฒ ุงุฏุนุงูุง ุณุจฺฉ BDD ุงุณุชูุงุฏู ฺฉูุฏ

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ฺฉุฏููุณ ุชุณุชโูุง ุฎูุฏ ุจู ุณุจฺฉ ุจุงู ุจู ุฎูุงููุฏู ุงู ุงูฺฉุงู ุฑุง ูโุฏูุฏ ุชุง ุจุฏูู ุตุฑู ุญุช ฺฉ ฺุฑุฎู ูุบุฒ - CPUุ ููุฑุงู ุจู ูุชุฌู ุจุฑุณุฏ. ููุช ฺฉุฏูุง ุถุฑูุฑ ุฑุง ู ููุณุฏ ฺฉู ูููู ุงุฒ ููุทู ุดุฑุท ุงุณุชุ ุฎูุงููุฏู ูุฌุจูุฑ ู ุดูุฏ ฺุฑุฎู ูุง ูุบุฒ - CPU ุจุดุชุฑ ุงุนูุงู ฺฉูุฏ. ุฏุฑ ุงู ุตูุฑุชุ ุงูุชุธุงุฑุงุช ุฑุง ุจู ุฒุจุงู ุดุจู ุจู ุงูุณุงูุ ุจู ุณุจฺฉ BDD ุงุนูุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ยซุงูุชุธุงุฑยป ุง ยซุจุงุฏยป ู ุจุฏูู ุงุณุชูุงุฏู ุงุฒ ฺฉุฏ ุณูุงุฑุด ฺฉุฏููุณ ฺฉูุฏ. ุงฺฏุฑ Chai & Jest ุดุงูู ุงุฏุนุง ููุฑุฏ ูุธุฑ ูุณุช ู ุจุณุงุฑ ูุงุจู ุชฺฉุฑุงุฑ ุงุณุชุ ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ [extending Jest matcher (Jest)](https://jestjs.io/docs/en/expect#expectextendmatchers) ุง ููุดุชู ฺฉ [ูพูุงฺฏู Chai ุณูุงุฑุด](https://www.chaijs.com/guide/plugins/)
<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ุชู ุชุณุช ูุง ฺฉูุชุฑ ู ููุณุฏ ู ุชุณุช ูุง ูุฒุงุญู ุฑุง ุจุง .skip ุชุฒุฆู ู ฺฉูุฏ()

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary><br/>

![](https://img.shields.io/badge/๐ง%20Example%20using%20Mocha-blue.svg "Examples with Mocha & Chai") ![](https://img.shields.io/badge/๐ง%20Example%20using%20Jest-blue.svg "Examples with Jest")

### :thumbsdown: ูุซุงู ุถุฏ ุงูฺฏู: ุฎูุงููุฏู ููุท ุจุฑุง ุฏุฑุงูุช ุฏุงุณุชุงู ุชุณุช ฺฉู ุจุงุฏ ฺฉุฏูุง ูู ฺูุฏุงู ฺฉูุชุงู ู ุถุฑูุฑ ุฑุง ูุฑูุฑ ฺฉูุฏ.

```javascript
test("ููฺฏุงู ุฏุฑุฎูุงุณุช ุงุฏููุ ูุทูุฆู ุดูุฏ ฺฉู ุฏุฑ ูุชุงุฌ ููุท ูุฏุฑุงู ุณูุงุฑุด ุฏุงุฏู ุดุฏู ูุณุชูุฏ", () => {
  //ุจุง ูุฑุถ ุงูฺฉู ูุง ุฏู ุงุฏูู "admin1"ุ "admin2" ู "user1" ุฑุง ุจู ุงูุฌุง ุงุถุงูู ฺฉุฑุฏู ุงู.
  const allAdmins = getUsers({ adminOnly: true });

  let admin1Found,
    adming2Found = false;

  allAdmins.forEach(aSingleUser => {
    if (aSingleUser === "user1") {
      assert.notEqual(aSingleUser, "user1", "A user was found and not admin");
    }
    if (aSingleUser === "admin1") {
      admin1Found = true;
    }
    if (aSingleUser === "admin2") {
      admin2Found = true;
    }
  });

  if (!admin1Found || !admin2Found) {
    throw new Error("Not all admins were returned");
  }
});
```

<br/>

### :clap: ูุซุงู ุฏุฑุณุช: ูุฑูุฑ ุชุณุช ุงุนูุงู ุฒุฑ ฺฉ ูุณู ุงุณุช

```javascript
it("When asking for an admin, ensure only ordered admins in results", () => {
  //ุจุง ูุฑุถ ุงูฺฉู ูุง ุจู ุงูุฌุง ุฏู ุงุฏูู ุงุถุงูู ฺฉุฑุฏู ุงู
  const allAdmins = getUsers({ adminOnly: true });

  expect(allAdmins)
    .to.include.ordered.members(["admin1", "admin2"])
    .but.not.include.ordered.members(["user1"]);
});
```

</details>

<br/><br/>

## โช ๏ธ 1.4 ุจู ุชุณุช ุฌุนุจู ุณุงู ูพุงุจูุฏ ุจุงุดุฏ: ููุท ูุชุฏ ูุง ุนููู ุฑุง ุขุฒูุงุด ฺฉูุฏ

:white_check_mark: **ุงุชุฌุงู ุฏุงุฏู:** ุขุฒูุงุด ูุทุนุงุช ุฏุงุฎู ุชูุฑุจุงู ูฺ ูุฒูู ุฒุงุฏ ุฑุง ุจู ููุฑุงู ูุฏุงุฑุฏ. ุงฺฏุฑ ฺฉุฏ/API ุดูุง ูุชุงุฌ ุฏุฑุณุช ุฑุง ุงุฑุงุฆู ูโุฏูุฏุ ุขุง ูุงูุนุงู ุจุงุฏ 3 ุณุงุนุช ุขูุฏู ุฎูุฏ ุฑุง ุจุฑุง ุขุฒูุงุด ูุญูู ุนููฺฉุฑุฏ ุฏุงุฎู ุขู ุณุฑูุงูโฺฏุฐุงุฑ ฺฉูุฏ ู ุณูพุณ ุงู ุชุณุชโูุง ุดฺฉููุฏู ุฑุง ุญูุธ ฺฉูุฏุ ูุฑ ุฒูุงู ฺฉู ฺฉ ุฑูุชุงุฑ ุนููู ุจุฑุฑุณ ูโุดูุฏุ ูพุงุฏูโุณุงุฒ ุฎุตูุต ูุฒ ุจู ุทูุฑ ุถูู ุขุฒูุงุด ูโุดูุฏ ู ุขุฒูุงุดโูุง ุดูุง ุชููุง ุฏุฑ ุตูุฑุช ูุฌูุฏ ูุดฺฉู ุฎุงุต (ุจู ุนููุงู ูุซุงู ุฎุฑูุฌ ุงุดุชุจุงู) ุดฺฉุณุชู ูโุดููุฏ. ุงู ุฑูฺฉุฑุฏ ุจู ุนููุงู "ุขุฒูุงุด ุฑูุชุงุฑ" ูุฒ ูุงูุฏู ู ุดูุฏ. ุงุฒ ุทุฑู ุฏฺฏุฑุ ุงฺฏุฑ ูุทุนุงุช ุฏุงุฎู ุฑุง ุขุฒูุงุด ฺฉูุฏ (ุฑูฺฉุฑุฏ ุฌุนุจู ุณูุฏ) - ุชูุฑฺฉุฒ ุดูุง ุงุฒ ุจุฑูุงูู ุฑุฒ ูุชุฌู ฺฉุงููพูููุช ุจู ุฌุฒุฆุงุช ุฏูู ุชุบุฑ ู ฺฉูุฏ ู ููฺฉู ุงุณุช ุชุณุช ุดูุง ุจู ุฏูู ุงุตูุงุญ ฺฉููุฏู ูุง ุฌุฒุฆ ฺฉุฏ ุดฺฉุณุชู ุดูุฏุ ุงฺฏุฑฺู ูุชุงุฌ ุฎูุจ ูุณุชูุฏ - ุงู ุจู ุทูุฑ ฺุดูฺฏุฑ ุชุนูุฑ ู ูฺฏูุฏุงุฑ ุฑุง ุงูุฒุงุด ู ุฏูุฏ. ุจุงุฑ
<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ุชุณุช ูุง ุดูุง ูุงููุฏ [ูพุณุฑ ูุณุช ฺฉู ุนู ฺฏุฑฺฏ ูุฑุงุฏ ู ุฒูุฏ](https://en.wikipedia.org/wiki/The_Boy_Who_Cried_Wolf): ูุฑุงุฏ ุฒุฏู ุจุง ูุฑุงุฏูุง ูุซุจุช ฺฉุงุฐุจ (ูุซูุงูุ ฺฉ ุขุฒูุงุด ุจู ุฏูู ุชุบุฑ ูุงู ฺฉ ูุชุบุฑ ุฎุตูุต ูุงูููู ุจูุฏ). ุฌุง ุชุนุฌุจ ูุณุช ฺฉู ูุฑุฏู ุจู ุฒูุฏ ุงุนูุงูโูุง CI ุฑุง ูุงุฏุฏู ูโฺฏุฑูุฏ ุชุง ุงูฺฉู ุฑูุฒ ฺฉ ุจุงฺฏ ูุงูุน ูุงุฏุฏู ฺฏุฑูุชู ุดูุฏโฆ

<br/>
<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :thumbsdown: ูุซุงู ุถุฏ ุงูฺฏู: ฺฉ ููุฑุฏ ุชุณุช ุจุฏูู ูฺ ุฏูู ููุฌู ูุทุนุงุช ุฏุงุฎู ุฑุง ุชุณุช ู ฺฉูุฏ

![](https://img.shields.io/badge/๐ง%20Example%20using%20Mocha-blue.svg "Examples with Mocha & Chai")

```javascript
class ProductService {
  //ุงู ูุชุฐ ููุท ุฏุฑ ุฏุงุฎู ุงุณุชูุงุฏู ู ุดูุฏ
  //ุชุบุฑ ุงู ูุงู ุจุงุนุซ ู ุดูุฏ ฺฉู ุขุฒููู ูุง ุจุง ุดฺฉุณุช ููุงุฌู ุดููุฏ
  calculateVATAdd(priceWithoutVAT) {
    return { finalPrice: priceWithoutVAT * 1.2 };
    //ุชุบุฑ ูุฑูุช ูุชุฌู ุง ูุงู ฺฉูุฏ ุจุงูุง ุจุงุนุซ ุดฺฉุณุช ุชุณุช ูุง ู ุดูุฏ
  }
  //ูุชุฏ ุนููู
  getPrice(productId) {
    const desiredProduct = DB.getProduct(productId);
    finalPrice = this.calculateVATAdd(desiredProduct.price).finalPrice;
    return finalPrice;
  }
}

it("ุชุณุช ุฌุนุจู ุณูุฏ: ููฺฏุงู ฺฉู ุฑูุด ูุง ุฏุงุฎู 0 vat ุฏุฑุงูุช ู ฺฉููุฏุ 0 ูพุงุณุฎ ู ุฏูุฏ", async () => {
  //ูฺ ุงูุฒุงู ุจุฑุง ุงุฌุงุฒู ุฏุงุฏู ุจู ฺฉุงุฑุจุฑุงู ุจุฑุง ูุญุงุณุจู ูุงูุงุช ุจุฑ ุงุฑุฒุด ุงูุฒูุฏู ูุฌูุฏ ูุฏุงุฑุฏุ ููุท ููุช ููุง ุฑุง ูุดุงู ู ุฏูุฏ. ุจุง ุงู ูุฌูุฏุ ูุง ุจู ุฏุฑูุบ ุงุตุฑุงุฑ ุฏุงุฑู ฺฉู ุฏุฑูู ฺฉูุงุณ ุฑุง ุขุฒูุงุด ฺฉูู
  expect(new ProductService().calculateVATAdd(0).finalPrice).to.equal(0);
});
```

</details>

<br/><br/>

## โช ๏ธ ๏ธ1.5 ุฏู ุจุฑุงุจุฑ ุชุณุช ููุงุณุจ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ: ุงุฒ ุชูุณุฎุฑ ุจู ููุน ุฎุฑุฏ ู ุฌุงุณูุณ ุฎูุฏุฏุงุฑ ฺฉูุฏ

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ุชุณุช ูุง ุฏูุจู ฺฉ ุดุฑ ุถุฑูุฑ ูุณุชูุฏ ุฒุฑุง ุจุง ุงุฌุฒุง ุฏุงุฎู ุจุฑูุงูู ููุฑุงู ูุณุชูุฏุ ุงูุง ุจุฑุฎ ุงุฒ ุขููุง ุงุฑุฒุด ุจุณุงุฑ ุฒุงุฏ ุฑุง ุงุฑุงุฆู ู ุฏููุฏ (<a href="https://martinfowler.com/articles/mocksArentStubs.html" data-href="https://martinfowler.com/articles/mocksArentStubs.html" class="markup--anchor markup--p-anchor" rel="noopener nofollow" target="_blank">[ุฏุฑ ุงูุฌุง ฺฉ ุงุฏุขูุฑ ุฏุฑ ููุฑุฏ ุชุณุช ุฏูุจู ุจุฎูุงูุฏ: mocks vs stubs vs spies](https://martinfowler.com/articles/mocksArentStubs.html)</a>).

ูุจู ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุชุณุช ุฏูุจูุ ฺฉ ุณูุงู ุจุณุงุฑ ุณุงุฏู ุจูพุฑุณุฏ: ุขุง ุงุฒ ุขู ุจุฑุง ุชุณุช ุนููฺฉุฑุฏ ฺฉู ุฏุฑ ุณูุฏ ุงูุฒุงูุงุช ุธุงูุฑ ู ุดูุฏ ุง ู ุชูุงูุฏ ุธุงูุฑ ุดูุฏ ุงุณุชูุงุฏู ฺฉููุ ุงฺฏุฑ ููุ ุจู ุชุณุช ุฌุนุจู ุณูุฏ ุงุณุช.

ุจู ุนููุงู ูุซุงูุ ุงฺฏุฑ ูโุฎูุงูุฏ ุขุฒูุงุด ฺฉูุฏ ฺฉู ุจุฑูุงููโุชุงู ุฏุฑ ููฺฏุงู ูุทุน ุณุฑูุณ ูพุฑุฏุงุฎุชุ ุฑูุชุงุฑ ูุนููู ุฏุงุฑุฏุ ููฺฉู ุงุณุช ุณุฑูุณ ูพุฑุฏุงุฎุช ุฑุง ุฎุงููุด ฺฉูุฏ ู ููุฏุงุฑ ยซุจุฏูู ูพุงุณุฎยป ุฑุง ูุนุงู ฺฉูุฏ ุชุง ูุทูุฆู ุดูุฏ ฺฉู ูุงุญุฏ ููุฑุฏ ุขุฒูุงุด ููุฏุงุฑ ููุงุณุจ ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ. ุงู ุฑูุชุงุฑ / ูพุงุณุฎ / ูุชุฌู ุจุฑูุงูู ูุง ุฑุง ุชุญุช ุณูุงุฑููุง ุฎุงุต ุจุฑุฑุณ ู ฺฉูุฏ. ููฺูู ููฺฉู ุงุณุช ุงุฒ ุฌุงุณูุณ ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ุงุฏุนุง ฺฉูุฏ ฺฉู ุงูู ุฒูุงู ุงุฑุณุงู ุดุฏู ุงุณุช ฺฉู ุขู ุณุฑูุณ ุงุฒ ฺฉุงุฑ ุงูุชุงุฏู ุงุณุชโโโุงู ุฏูุจุงุฑู ฺฉ ุจุฑุฑุณ ุฑูุชุงุฑ ุงุณุช ฺฉู ุงุญุชูุงูุงู ุฏุฑ ุณูุฏ ุงูุฒุงูุงุช ุธุงูุฑ ูโุดูุฏ (ยซุงฺฏุฑ ูพุฑุฏุงุฎุช ุงูฺฉุงู ุฐุฎุฑู ูุดุฏยป ุฑุงุงูุงูู ุงุฑุณุงู ฺฉูุฏ. ุงุฒ ุทุฑู ุฏฺฏุฑุ ุงฺฏุฑ ุณุฑูุณ ูพุฑุฏุงุฎุช ุฑุง ูุณุฎุฑู ูโฺฉูุฏ ู ูุทูุฆู ูโุดูุฏ ฺฉู ุจุง ุงููุงุน ุฌุงูุง ุงุณฺฉุฑูพุช ููุงุณุจ ูุฑุงุฎูุงู ุดุฏู ุงุณุชโโโุขุฒูุงุด ุดูุง ุฑู ฺุฒูุง ุฏุงุฎู ูุชูุฑฺฉุฒ ุงุณุช ฺฉู ูฺ ุฑุจุท ุจู ุนููฺฉุฑุฏ ุจุฑูุงูู ูุฏุงุฑูุฏ ู ุงุญุชูุงูุงู ุงุบูุจ ุชุบุฑ ูโฺฉููุฏ.
<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ูุฑ ฺฏููู ุจุงุฒุณุงุฒู ูุฏุ ุฌุณุช ู ุฌูู ุชูุงูู ุณุงุฎุชฺฏู ูุงู ููุฌูุฏ ุฏุฑ ูุฏ ู ุจู ุฑูุฒ ูุฑุฏู ุขู ุฑุง ุงูุฒุงูู ูู ููุฏ. ุชุณุช ูุง ุจู ุฌุง ฺฉ ุฏูุณุช ููุฏ ุชุจุฏู ุจู ฺฉ ุจุงุฑ ู ุดููุฏ

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :thumbsdown: ูุซุงู ุถุฏ ุงูฺฏู: mock ูุง ุจุฑ ุฑู ุฏุงุฎู ุชูุฑฺฉุฒ ู ฺฉููุฏ

![](https://img.shields.io/badge/๐ง%20Example%20using%20Sinon-blue.svg "Examples with Sinon")

```javascript
it("ููฺฏุงู ฺฉู ฺฉ ูุญุตูู ูุนุชุจุฑ ุฏุฑ ุดุฑู ุญุฐู ุงุณุชุ ูุทูุฆู ุดูุฏ ฺฉู DAL ฺฉ ุจุงุฑ ุจุง ูุญุตูู ููุงุณุจ ู ูพฺฉุฑุจูุฏ ููุงุณุจ ุชูุงุณ ฺฏุฑูุชู ุดุฏู ุงุณุช.", async () => {
  //ูุฑุถ ฺฉูุฏ ูุจูุงู ฺฉ ูุญุตูู ุงุถุงูู ฺฉุฑุฏู ุงู
  const dataAccessMock = sinon.mock(DAL);
  //ูููููู ุจุฏ ุงุณุช: ุชุณุช ูุทุนุงุช ุฏุงุฎู ุฏุฑ ูุงูุน ูุฏู ุงุตู ูุง ุฏุฑ ุงูุฌุง ุงุณุชุ ูู ููุท ฺฉ side effect
  dataAccessMock
    .expects("deleteProduct")
    .once()
    .withArgs(DBConfig, theProductWeJustAdded, true, false);
  new ProductService().deletePrice(theProductWeJustAdded);
  dataAccessMock.verify();
});
```

<br/>

### :clap:ูุซุงู ุฏุฑุณุช: ุฌุงุณูุณุงู ุจุฑ ุฑู ุชุณุช ุงูุฒุงูุงุช ูุชูุฑฺฉุฒ ูุณุชูุฏุ ุงูุง ุจู ุนููุงู ฺฉ side effectุ ุจู ุทูุฑ ุงุฌุชูุงุจ ูุงูพุฐุฑ ุจู ุฏุฑูู ูุง ุฏุณุช ู ุฒููุฏ.

```javascript
it("ููฺฏุงู ฺฉู ฺฉ ูุญุตูู ูุนุชุจุฑ ุฏุฑ ุดุฑู ุญุฐู ุงุณุชุ ูุทูุฆู ุดูุฏ ฺฉู ฺฉ ุงูู ุงุฑุณุงู ุดุฏู ุงุณุช", async () => {
  //ูุฑุถ ฺฉูุฏ ูุจูุงู ฺฉ ูุญุตูู ุฑุง ุฏุฑ ุงูุฌุง ุงุถุงูู ฺฉุฑุฏู ุงู
  const spy = sinon.spy(Emailer.prototype, "sendEmail");
  new ProductService().deletePrice(theProductWeJustAdded);
  //ูููููู ุฎูุจ ุงุณุช: ูุง ุจุง ุฏุงุฎู ุณุฑูฺฉุงุฑ ุฏุงุฑูุ ุจููุ ุงูุง ุจู ุนููุงู ฺฉ side effect ุชุณุช ุงูุฒุงูุงุช (ุงุฑุณุงู ุงูู)
  expect(spy.calledOnce).to.be.true;
});
```

</details>

<br/><br/>

## ๐ ุขุง ู ุฎูุงูุฏ ููู ุงู ุชูุฑู ูุง ุฑุง ุจุง ูุฏู ุฒูุฏู ุงุฏ ุจฺฏุฑุฏุ

###ุงุฒ ุฏูุฑู ุขููุงู ูู ุฏุฏู ฺฉูุฏ [Testing Node.js & JavaScript ุงุฒ A ุชุง Z](https://www.testjavascript.com)

<br/><br/>

## โช ๏ธ1.6 ยซฺฏูู ูุฒูุฏยปุ ุงุฒ ุฏุงุฏู ูุง ูุฑูุฏ ูุงูุน ุงุณุชูุงุฏู ฺฉูุฏ

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ุงุบูุจ ุงุดฺฉุงูุงุช ุชููุฏ ุชุญุช ุจุฑุฎ ูุฑูุฏโูุง ุจุณุงุฑ ุฎุงุต ู ุดฺฏูุชโุงูฺฏุฒ ุขุดฺฉุงุฑ ูโุดููุฏโโูุฑฺู ูุฑูุฏ ุขุฒูุงุด ูุงูุนโุชุฑ ุจุงุดุฏุ ุดุงูุณ ุชุดุฎุต ุฒูุฏููฺฏุงู ุจุงฺฏโูุง ุจุดุชุฑ ูโุดูุฏ. ุงุฒ ฺฉุชุงุจุฎุงููโูุง ุงุฎุชุตุงุต ูุงููุฏ [Chance](https://github.com/chancejs/chancejs) ุง [Faker](https://www.npmjs.com/package/faker) ุจุฑุง ุชููุฏ ุฏุงุฏูโูุง ุดุจู ูุงูุน ฺฉู ุดุจู ุงููุงุน ู ุงูุณุงู ุขูโูุง ูุณุชูุฏุ ุงุณุชูุงุฏู ฺฉูุฏ. ุดฺฉู ุฏุงุฏู ูุง ุชููุฏ ุจู ุนููุงู ูุซุงูุ ฺูู ฺฉุชุงุจุฎุงููโูุง ูโุชูุงููุฏ ุดูุงุฑู ุชูููุ ูุงู ฺฉุงุฑุจุฑุ ฺฉุงุฑุช ุงุนุชุจุงุฑุ ูุงู ุดุฑฺฉุช ู ุญุช ูุชู ยซlorem ipsumยป ูุงูุน ุฑุง ุชููุฏ ฺฉููุฏ. ููฺูู ูโุชูุงูุฏ ุขุฒูุงุดโูุง (ุฏุฑ ุจุงูุง ุขุฒูุงุดโูุง ูุงุญุฏุ ูู ุจู ุนููุงู ุฌุงฺฏุฒู) ุงุฌุงุฏ ฺฉูุฏ ฺฉู ุฏุงุฏูโูุง ุฌุนู ุฑุง ุชุตุงุฏู ูโฺฉูุฏ ุชุง ูุงุญุฏ ุดูุง ุชุญุช ุขุฒูุงุด ฺฉุดุฏู ุดูุฏ ุง ุญุช ุฏุงุฏูโูุง ูุงูุน ุฑุง ุงุฒ ูุญุท ุชููุฏ ุดูุง ูุงุฑุฏ ฺฉูุฏ. ู ุฎูุงูุฏ ุขู ุฑุง ุจู ุณุทุญ ุจุนุฏ ุจุจุฑุฏุ ฺฏูููู ุจุนุฏ (ุชุณุช ูุจุชู ุจุฑ ูฺฺฏ) ุฑุง ุจุจูุฏ.
<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ููุช ุงุฒ ูุฑูุฏ ูุง ูุตููุน ูุงููุฏ "Foo" ุงุณุชูุงุฏู ู ฺฉูุฏุ ุชูุงู ุขุฒูุงุด ูุง ุชูุณุนู ุดูุง ุจู ุงุดุชุจุงู ุณุจุฒ ูุดุงู ุฏุงุฏู ู ุดููุฏุ ุงูุง ุฒูุงู ฺฉู ูฺฉุฑ ุฑุดุชู ุจุฏ ูุงููุฏ "@3e2ddsf" ุฑุง ุนุจูุฑ ู ุฏูุฏุ ููฺฉู ุงุณุช ุชููุฏ ูุฑูุฒ ุดูุฏ. ##' 1 fdsfds . fds432 AAAAโ

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :thumbsdown: ูุซุงู ุถุฏ ุงูฺฏู: ูุฌููุนู ุขุฒูุงุด ฺฉู ุจู ุฏูู ุฏุงุฏู ูุง ุบุฑูุงูุน ูุจูู ู ุดูุฏ

![](https://img.shields.io/badge/๐ง%20Example%20using%20Jest-blue.svg "Examples with Jest")

```javascript
const addProduct = (name, price) => {
  const productNameRegexNoSpace = /^\S*$/; //space ูุฌุงุฒ ูุณุช

  if (!productNameRegexNoSpace.test(name)) return false; //ุงู ุดุฑุท ุจู ุฏูู ูุฑูุฏ ูุงุฏุฑุณุช ูุฑฺฏุฒ ุงุฌุฑุง ูู ุดูุฏ

  //ุจูู ฺฉุฏ ูุง
  return true;
};

test("ุงุดุชุจุงู: ููฺฏุงู ุงูุฒูุฏู ูุญุตูู ุฌุฏุฏ ุจุง ูฺฺฏ ูุง ูุนุชุจุฑุ ุชุฃุฏ ููููุช ุขูุฒ ุฏุฑุงูุช ฺฉูุฏ", async () => {
  //ุฑุดุชู "Foo" ฺฉู ุฏุฑ ููู ุชุณุช ูุง ุงุณุชูุงุฏู ู ุดูุฏุ ูุฑฺฏุฒ ูุชุฌู ูุงุฏุฑุณุช ุฑุง ุงุฌุงุฏ ูู ฺฉูุฏ
  const addProductResult = addProduct("Foo", 5);
  expect(addProductResult).toBe(true);
  //ูุซุจุช-ฺฉุงุฐุจ: ุนููุงุช ููููุช ุขูุฒ ุจูุฏ ุฒุฑุง ูุง ูุฑฺฏุฒ ุชูุงุด ุฒุงุฏ ูฺฉุฑุฏู
  //ูุงู ูุญุตูู ุดุงูู ูุงุตูู ูุง
});
```

<br/>

### :clap:ูุซุงู ุฏุฑุณุช:ุชุตุงุฏู ุณุงุฒ ูุฑูุฏ ูุงูุน

```javascript
it("ุจูุชุฑ: ููฺฏุงู ุงูุฒูุฏู ูุญุตูู ูุนุชุจุฑ ุฌุฏุฏุ ุชุฃุฏ ููููุช ุขูุฒ ุฏุฑุงูุช ฺฉูุฏ", async () => {
  const addProductResult = addProduct(faker.commerce.productName(), faker.random.number());
  //ูุฑูุฏ ุชุตุงุฏู ุงุฌุงุฏ ุดุฏู: {'Sleek Cotton Computer', 85481}
  expect(addProductResult).to.be.true;
  //ุชุณุช ูุงูููู ุจูุฏุ ูุฑูุฏ ุชุตุงุฏู ูุณุฑ ุฑุง ุขุบุงุฒ ฺฉุฑุฏ ฺฉู ูุง ูุฑฺฏุฒ ุจุฑุง ุขู ุจุฑูุงูู ุฑุฒ ูฺฉุฑุฏู ุจูุฏู.
  //ูุง ฺฉ ุจุงฺฏ ุฑุง ุฒูุฏ ฺฉุดู ฺฉุฑุฏู!
});
```

</details>

<br/><br/>

## โช ๏ธ 1.7 ุจุณุงุฑ ุงุฒ ุชุฑฺฉุจุงุช ูุฑูุฏ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุชุณุช ูุจุชู ุจุฑ ูฺฺฏ ุชุณุช ฺฉูุฏ

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ูุนูููุงู ุจุฑุง ูุฑ ุขุฒููู ฺูุฏ ููููู ูุฑูุฏ ุงูุชุฎุงุจ ู ฺฉูู. ุญุช ุฒูุงู ฺฉู ูุงูุจ ูุฑูุฏ ุดุจู ุฏุงุฏู ูุง ุฏูุง ูุงูุน ุจุงุดุฏ (ุจู ฺฏูููู ูุฑุงุฌุนู ฺฉูุฏ [โฺฏูู ูุฒูโ](https://github.com/goldbergyoni/javascript-testing-best-practices#-%EF%B8%8F16-dont-foo-use-realistic-input-data)), ูุง ููุท ฺูุฏ ุชุฑฺฉุจ ูุฑูุฏ ุฑุง ูพูุดุด ูโุฏูู (method(''ุ trueุ 1)ุ ุฑูุด ("string"ุ falseุ 0))ุ ุจุง ุงู ุญุงูุ ุฏุฑ ุชููุฏุ ฺฉ API ฺฉู ุจุง 5 ูพุงุฑุงูุชุฑ ูุฑุงุฎูุงู ู ุดูุฏ ุฑุง ู ุชูุงู ุจุง ูุฒุงุฑุงู ูพุงุฑุงูุชุฑ ูุฎุชูู ูุฑุงุฎูุงู ฺฉุฑุฏ. ุฌุงฺฏุดุชุ ฺฉ ุงุฒ ุขููุง ููฺฉู ุงุณุช ูุฑุขูุฏ ูุง ุฑุง ูพุงู ุจุงูุฑุฏ ([ุชุณุช ูุงุฒ ุฑุง ุจุจูุฏ](https://en.wikipedia.org/wiki/Fuzzing)). ุงฺฏุฑ ุจุชูุงูุฏ ฺฉ ุชุณุช ุจููุณุฏ ฺฉู 1000 ุฌุงฺฏุดุช ุงุฒ ูุฑูุฏ ูุง ูุฎุชูู ุฑุง ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุงุฑุณุงู ู ฺฉูุฏ ู ฺฉุฏ ูุง ุจุฑุง ฺฉุฏุงู ูุฑูุฏ ูพุงุณุฎ ููุงุณุจ ุฑุง ูู ุฏูุฏุ ุชุณุช ูุจุชู ุจุฑ ูฺฺฏ ุชฺฉูฺฉ ุงุณุช ฺฉู ุฏููุงู ููู ฺฉุงุฑ ุฑุง ุงูุฌุงู ู ุฏูุฏ: ุจุง ุงุฑุณุงู ุชูุงู ุชุฑฺฉุจุงุช ูุฑูุฏ ููฺฉู ุจู ูุงุญุฏ ุชุญุช ุขุฒูุงุด ุดูุงุ ูุดฺฉู ุงูุชู ฺฉ ุจุงฺฏ ุฑุง ุงูุฒุงุด ู ุฏูุฏ. ุจู ุนููุงู ูุซุงูุ ุจุง ุชูุฌู ุจู ฺฉ ูุชุฏ โ โaddNewProduct(id, name, isDiscount)โโโฺฉุชุงุจุฎุงูู ูุง ูพุดุชุจุงู ฺฉููุฏู ุงู ูุชุฏ ุฑุง ุจุง ุชุฑฺฉุจ ูุง ุฒุงุฏ ุงุฒ (ุนุฏุฏุ ุฑุดุชูุ ุจูู) ูุงููุฏ (1ุ "iPhone"ุ false)ุ (2ุ "Galaxy" ูุฑุงุฎูุงู ู ฺฉููุฏ. "ุ ุฏุฑุณุช ุงุณุชุ ูุงูุน). ุดูุง ู ุชูุงูุฏ ุชุณุช ูุจุชู ุจุฑ ูฺฺฏ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุจุฑูุงูู ุขุฒูุงุด ููุฑุฏ ุนูุงูู ุฎูุฏ (ููฺฉุงุ ุฌุณุช ู ุบุฑู) ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉุชุงุจุฎุงูู ูุง ูุงููุฏ [js-verify](https://github.com/jsverify/jsverify) ุง [ุจุฑุฑุณ ุชุณุช](https://github.com/leebyron/testcheck-js) (ูุณุชูุฏุงุช ุฎู ุจูุชุฑ). ุจู ุฑูุฒ ุฑุณุงู: Nicolas Dubien ุฏุฑ ูุธุฑุงุช ุฒุฑ ุจู[ุชุณูู ุญุณุงุจ ุณุฑุน](https://github.com/dubzzz/fast-check#readme) ฺฉู ุจู ูุธุฑ ู ุฑุณุฏ ุจุฑุฎ ุงุฒ ูฺฺฏ ูุง ุงุถุงู ุฑุง ุงุฑุงุฆู ู ุฏูุฏ ู ููฺูู ุจู ุทูุฑ ูุนุงู ุญูุธ ู ุดูุฏ
<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ูุงุฎูุฏุขฺฏุงูุ ูุฑูุฏโูุง ุชุณุช ุฑุง ุงูุชุฎุงุจ ูโฺฉูุฏ ฺฉู ููุท ูุณุฑูุง ฺฉุฏ ุฑุง ูพูุดุด ูโุฏููุฏ ฺฉู ุจู ุฎูุจ ฺฉุงุฑ ูโฺฉููุฏ. ูุชุฃุณูุงููุ ุงู ฺฉุงุฑุง ุชุณุช ุฑุง ุจู ุนููุงู ูุณูู ุง ุจุฑุง ุงูุดุง ุงุดฺฉุงูุงุช ฺฉุงูุด ู ุฏูุฏ

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :clap: ูุซุงู ุฏุฑุณุช: ุขุฒูุงุด ุจุณุงุฑ ุงุฒ ุฌุงฺฏุดุช ูุง ูุฑูุฏ ุจุง "ุจุฑุฑุณ ุณุฑุน"

![](https://img.shields.io/badge/๐ง%20Example%20using%20Jest-blue.svg "Examples with Jest")

```javascript
import fc from "fast-check";

describe("ุฎุฏูุงุช ูุญุตูู", () => {
  describe("ุงูุฒูุฏู ุฌุฏุฏ", () => {
    //ุงู 100 ุจุงุฑ ุจุง ูฺฺฏ ูุง ุชุตุงุฏู ูุฎุชูู ุงุฌุฑุง ู ุดูุฏ
    it("ูุญุตูู ุฌุฏุฏ ุจุง ูฺฺฏ ูุง ุชุตุงุฏู ู ุฏุฑ ุนู ุญุงู ูุนุชุจุฑุ ููุดู ูููู ุงุถุงูู ฺฉูุฏ", () =>
      fc.assert(
        fc.property(fc.integer(), fc.string(), (id, name) => {
          expect(addNewProduct(id, name).status).toEqual("approved");
        })
      ));
  });
});
```

</details>

<br/><br/>

## โช ๏ธ 1.8 ุฏุฑ ุตูุฑุช ูุงุฒุ ููุท ุงุฒ snapshots ฺฉูุชุงู ู ุฏุฑูู ุฎุท ุงุณุชูุงุฏู ฺฉูุฏ

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ุฒูุงู ฺฉู ูุงุฒ ุจุงุดุฏ [snapshot ุชุณุช ฺฉุฑุฏู](https://jestjs.io/docs/en/snapshot-testing), ููุท ุงุฒ ุนฺฉุณ ูุง ููุฑ ฺฉูุชุงู ู ูุชูุฑฺฉุฒ ุงุณุชูุงุฏู ฺฉูุฏ (i.e. 3-7 ุฎุท) ฺฉู ุจู ุนููุงู ุจุฎุด ุงุฒ ุขุฒููู ฺฏูุฌุงูุฏู ุดุฏู ุงุณุช ([Inline Snapshot](https://jestjs.io/docs/en/snapshot-testing#inline-snapshots)) ู ูู ุฏุฑ ูุงู ูุง ุฎุงุฑุฌ. ุฑุนุงุช ุงู ุฏุณุชูุฑุงูุนูู ุชุถูู ูโฺฉูุฏ ฺฉู ุชุณุชโูุง ุดูุง ูุงุจู ุชูุถุญ ู ฺฉูุชุฑ ุดฺฉููุฏู ูุณุชูุฏ.

ุงุฒ ุณู ุฏฺฏุฑุ ุขููุฒุดโูุง ู ุงุจุฒุงุฑูุง ยซsnapshot ฺฉูุงุณฺฉยปุ ุฐุฎุฑู ูุงูโูุง ุจุฒุฑฺฏ (ูุงููุฏ ูุดุงููโฺฏุฐุงุฑ ุฑูุฏุฑ ูุคูููุ ูุชุฌู API JSON) ุฑุง ุจุฑ ุฑู ุจุฑุฎ ุฑุณุงููโูุง ุฎุงุฑุฌ ุชุดูู ูโฺฉููุฏ ู ุงุทููุงู ุญุงุตู ูโฺฉููุฏ ฺฉู ูุฑ ุจุงุฑ ููฺฏุงู ุงุฌุฑุง ุชุณุชุ ูุชุฌู ุฏุฑุงูุชโุดุฏู ุจุง ูุณุฎู ุฐุฎุฑูโุดุฏู ููุงุณู ุดูุฏ. ุจุฑุง ูุซุงูุ ุงู ู ุชูุงูุฏ ุจู ุทูุฑ ุถูู ุขุฒููู ูุง ุฑุง ุจู 1000 ุฎุท ุจุง 3000 ููุฏุงุฑ ุฏุงุฏู ฺฉู ููุณูุฏู ุขุฒููู ูุฑฺฏุฒ ูุฎูุงูุฏู ู ุฏุฑุจุงุฑู ุขู ุงุณุชุฏูุงู ูฺฉุฑุฏู ุงุณุชุ ูุฑุชุจุท ฺฉูุฏ. ฺุฑุง ุงู ุงุดุชุจุงู ุงุณุชุ ุจุง ุงูุฌุงู ุงู ฺฉุงุฑุ 1000 ุฏูู ุจุฑุง ุดฺฉุณุช ุชุณุช ุดูุง ูุฌูุฏ ุฏุงุฑุฏ - ฺฉุงู ุงุณุช ฺฉ ุฎุท ุชุบุฑ ฺฉูุฏ ุชุง snapshot ูุงูุนุชุจุฑ ุดูุฏ ู ุงู ุงุญุชูุงูุงู ุฒุงุฏ ุงุชูุงู ู ุงูุชุฏ. ฺูุฏ ุจุงุฑุ ุจุฑุง ูุฑ ูุถุงุ ูุธุฑ ุง ุชุบุฑ ุฌุฒุฆ CSS/HTML. ูู ุชููุง ุงูุ ูุงู ุขุฒููู ุณุฑูุฎ ุฏุฑ ููุฑุฏ ุดฺฉุณุช ูู ุฏูุฏุ ุฒุฑุง ููุท ุจุฑุฑุณ ู ฺฉูุฏ ฺฉู 1000 ุฎุท ุชุบุฑ ูฺฉุฑุฏู ุงุณุชุ ููฺูู ููุณูุฏู ุขุฒููู ุฑุง ุชุดูู ู ฺฉูุฏ ฺฉู ุณูุฏ ุทููุงู ุฑุง ฺฉู ูู ุชูุงูุฏ ุจุฑุฑุณ ฺฉูุฏุ ุจู ุนููุงู ูุงูุน ููุฑุฏ ูุธุฑ ุจูพุฐุฑุฏ. ุชุงุฏ ฺฉูุฏ. ููู ุงููุง ุนูุงุฆู ุขุฒููู ูุจูู ู ูุดุชุงู ุงุณุช ฺฉู ูุชูุฑฺฉุฒ ูุณุช ู ูุฏู ุขู ุฏุณุชุงุจ ุจู ุจุด ุงุฒ ุญุฏ ุงุณุช

ุดุงุงู ุฐฺฉุฑ ุงุณุช ฺฉู ููุงุฑุฏ ฺฉู ูุฌูุฏ ุฏุงุฑุฏ ฺฉู snapshotูุง ุทููุงู ู ุฎุงุฑุฌ ูุงุจู ูุจูู ุจุงุดุฏ - ููฺฏุงู ุงุฏุนุง ุจุฑ ุฑู ุทุฑุญ ู ูู ุฏุงุฏู (ุงุณุชุฎุฑุงุฌ ููุงุฏุฑ ู ุชูุฑฺฉุฒ ุจุฑ ุฑู ููุฏูุง) ุง ุฒูุงู ฺฉู ุณูุฏ ุฏุฑุงูุช ุจู ูุฏุฑุช ุชุบุฑ ูโฺฉูุฏ.
<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ุชุณุช ุฑุงุจุท ฺฉุงุฑุจุฑ ูุงูููู ุงุณุช. ุจู ูุธุฑ ู ุฑุณุฏ ฺฉุฏ ุฏุฑุณุช ุงุณุชุ ุตูุญู ููุงุด ูพฺฉุณู ูุง ุนุงู ุฑุง ุงุฑุงุฆู ู ุฏูุฏุ ฺู ุงุชูุงู ุงูุชุงุฏู ุงุณุชุ ุชุณุช snapshot ุดูุง ุชูุงูุช ุจู ุณูุฏ ูุจุฏุฃ ุจุง ุณูุฏ ุฏุฑุงูุช ูุนู ูพุฏุง ฺฉุฑุฏ - ฺฉ ฺฉุงุฑุงฺฉุชุฑ ูุงุตูู ุจู ุนูุงูุช ฺฏุฐุงุฑ ุงุถุงูู ุดุฏ...

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :thumbsdown: ูุซุงู ุถุฏ ุงูฺฏู: ุฌูุช ฺฉุฑุฏู ุชุณุช ูุง ุจู 2000 ุฎุท ฺฉุฏ

![](https://img.shields.io/badge/๐ง%20Example%20using%20Jest-blue.svg "Examples with Jest")

```javascript
it("TestJavaScript.com ุจู ุฏุฑุณุช ุงุฑุงุฆู ุดุฏู ุงุณุช", () => {
  //ููุฏุงุฑ ุฏู ฺฉุฑุฏู

  //ุงุฌุฑุง ฺฉุฑุฏู
  const receivedPage = renderer
    .create(<DisplayPage page="http://www.testjavascript.com"> Test JavaScript </DisplayPage>)
    .toJSON();

  //ููุงุณู ฺฉุฑุฏู
  expect(receivedPage).toMatchSnapshot();
    //ูุง ุงฺฉููู ุจู ุทูุฑ ุถูู ฺฉ ุณูุฏ 2000 ุฎุท ุฑุง ุญูุธ ู ฺฉูู
    //ูุฑ ุดฺฉุณุช ุฎุท ุง comment ุงุถุงู - ุงู ุชุณุช ุฑุง ุดฺฉุณุชู ุฎูุงูุฏ ฺฉุฑุฏ
});
```

<br/>

### :clap: ูุซุงู ุฏุฑุณุช: ุงูุชุธุงุฑุงุช ูุงุจู ูุดุงูุฏู ู ูุชูุฑฺฉุฒ ูุณุชูุฏ

```javascript
it("ููฺฏุงู ุจุงุฒุฏุฏ ุงุฒ ุตูุญู ุงุตู TestJavaScript.comุ ฺฉ ููู ููุงุด ุฏุงุฏู ู ุดูุฏ", () => {
   //ููุฏุงุฑ ุฏู ฺฉุฑุฏู

  //ุงุฌุฑุง ฺฉุฑุฏู
  const receivedPage = renderer
    .create(<DisplayPage page="http://www.testjavascript.com"> Test JavaScript </DisplayPage>)
    .toJSON();

  //ููุงุณู ฺฉุฑุฏู

  const menu = receivedPage.content.menu;
  expect(menu).toMatchInlineSnapshot(`
<ul>
<li>Home</li>
<li> About </li>
<li> Contact </li>
</ul>
`);
});
```

</details>

<br/><br/>

## โช ๏ธฺฉุฏ ุฑุง ฺฉูพ ฺฉูุฏุ ุงูุง ููุท ุขูฺู ูุงุฒู ุงุณุช

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ุชูุงู ุฌุฒุฆุงุช ูุงุฒู ุฑุง ฺฉู ุจุฑ ูุชุฌู ุขุฒูุงุด ุชุฃุซุฑ ู ฺฏุฐุงุฑุฏุ ูุงุฑุฏ ฺฉูุฏุ ุงูุง ูู ุจุดุชุฑ. ุจู ุนููุงู ูุซุงูุ ุชุณุช ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ ฺฉู ุจุงุฏ 100 ุฎุท ูุฑูุฏ JSON ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏโ-โฺุณุจุงูุฏู ุขู ุฏุฑ ูุฑ ุชุณุช ุฎุณุชู ฺฉููุฏู ุงุณุช. ุงุณุชุฎุฑุงุฌ ุขู ุงุฒ ุฎุงุฑุฌ ุจู transferFactory.getJSON() ุจุงุนุซ ูโุดูุฏ ุชุณุช ูุจูู ุจุงู ุจูุงูุฏโ-โุจุฏูู ุฏุงุฏูุ ุงุฑุชุจุงุท ูุชุฌู ุขุฒูุงุด ุจุง ุนูุช ุฏุดูุงุฑ ุงุณุช ("ฺุฑุง ูุฑุงุฑ ุงุณุช ูุถุนุช 400 ุฑุง ุจุฑฺฏุฑุฏุงูุฏุ"). ฺฉุชุงุจ ฺฉูุงุณฺฉ ุงูฺฏููุง ูุงุญุฏ x ูุงู ุงู ุงูฺฏู ุฑุง ยซูููุงู ุงุณุฑุงุฑุขูุฒยป ฺฏุฐุงุดุชูุฏ - โฺุฒ ูุงุฏุฏู ุจุฑ ูุชุงุฌ ุขุฒูุงุด ูุง ุชุฃุซุฑ ฺฏุฐุงุดุชุ ูุง ุฏููุงู ููโุฏุงูู ฺู ฺุฒ. ูุง ูโุชูุงูู ุจุง ุงุณุชุฎุฑุงุฌ ูุทุนุงุช ุทููุงู ูุงุจู ุชฺฉุฑุงุฑ ุฏุฑ ุฎุงุฑุฌ ู ุจู ุตุฑุงุญุช ุงุดุงุฑู ฺฉูู ฺฉู ฺฉุฏุงู ุฌุฒุฆุงุช ุฎุงุต ุจุฑุง ุขุฒูุงุด ููู ูุณุชูุฏุ ุจูุชุฑ ุนูู ฺฉูู. ุจุง ุงุณุชูุงุฏู ุงุฒ ูุซุงู ุจุงูุงุ ุขุฒููู ูโุชูุงูุฏ ูพุงุฑุงูุชุฑูุง ุฑุง ูพุงุณ ฺฉูุฏ ฺฉู ุขูฺู ููู ุงุณุช ุฑุง ุจุฑุฌุณุชู ูโฺฉูุฏ: transferFactory.getJSON({sender: undefined}). ุฏุฑ ุงู ูุซุงูุ ุฎูุงููุฏู ุจุงุฏ ููุฑุงู ุงุณุชูุจุงุท ฺฉูุฏ ฺฉู ูุณูุช ุฎุงู ูุฑุณุชูุฏู ุฏูู ุงุณุช ฺฉู ุขุฒููู ุจุงุฏ ููุชุธุฑ ุฎุทุง ุงุนุชุจุงุฑุณูุฌ ุง ูุฑ ูุชุฌู ฺฉุงู ูุดุงุจู ุฏฺฏุฑ ุจุงุดุฏ.
<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ฺฉูพ ฺฉุฑุฏู 500 ุฎุท JSON ุจุงุนุซ ูโุดูุฏ ฺฉู ุชุณุชโูุง ุดูุง ูุงุจู ูฺฏูุฏุงุฑ ู ุฎูุงูุฏู ูุจุงุดูุฏ. ุฌุงุจุฌุง ููู ฺุฒ ุจู ุจุฑูู ุจุง ุขุฒููู ูุง ูุจูู ฺฉู ุฏุฑฺฉ ุขููุง ุณุฎุช ุงุณุช ุจู ูพุงุงู ู ุฑุณุฏ

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :thumbsdown: ูุซุงู ุถุฏ ุงูฺฏู: ุดฺฉุณุช ุชุณุช ูุงูุดุฎุต ุงุณุช ุฒุฑุง ููู ุนูุช ุฎุงุฑุฌ ุงุณุช ู ุฏุฑ JSON ุจุฒุฑฺฏ ูพููุงู ู ุดูุฏ

![](https://img.shields.io/badge/๐ง%20Example%20using%20Mocha-blue.svg "Examples with Mocha")

```javascript
test("ููุช ุงุนุชุจุงุฑ ูุฌูุฏ ูุฏุงุฑุฏุ ุงูุชูุงู ุฑุฏ ู ุดูุฏ", async() => {
      // ููุฏุงุฑ ุฏู ฺฉุฑุฏู
      const transferRequest = testHelpers.factorMoneyTransfer() //200 ุฎุท JSON ุฑุง ุจุฑฺฏุฑุฏุงูุฏ.
      const transferServiceUnderTest = new TransferService();

      // ุงุฌุฑุง ฺฉุฑุฏู
      const transferResponse = await transferServiceUnderTest.transfer(transferRequest);

      // ููุงุณู ฺฉุฑุฏู
      expect(transferResponse.status).toBe(409);// ุงูุง ฺุฑุง ูุง ุงูุชุธุงุฑ ุดฺฉุณุช ุฑุง ุฏุงุฑู: ุจู ูุธุฑ ู ุฑุณุฏ ููู ุฏุฑ ุขุฒููู ฺฉุงููุงู ูุนุชุจุฑ ูุณุชูุฏ ๐ค
    });
```

<br/>

### :clap: ูุซุงู ุฏุฑุณุช: ุขุฒูุงุด ูุดุงู ู ุฏูุฏ ฺฉู ุนูุช ูุชุฌู ุขุฒูุงุด ฺุณุช

```javascript

test("ููุช ุงุนุชุจุงุฑ ูุฌูุฏ ูุฏุงุฑุฏุ ุงูุชูุงู ุฑุฏ ู ุดูุฏ", async() => {
      // ููุฏุงุฑ ุฏู ฺฉุฑุฏู
      const transferRequest = testHelpers.factorMoneyTransfer({userCredit:100, transferAmount:200}) //ุจุฏู ุงุณุช ฺฉู ฺฉูุจูุฏ ุงุนุชุจุงุฑ ูุฌูุฏ ุฏุงุฑุฏ
      const transferServiceUnderTest = new TransferService({disallowOvercharge:true});

      // ุงุฌุฑุง ฺฉุฑุฏู
      const transferResponse = await transferServiceUnderTest.transfer(transferRequest);

      // ููุงุณู ฺฉุฑุฏู
      expect(transferResponse.status).toBe(409); //ุจุฏู ุงุณุช ฺฉู ุงฺฏุฑ ฺฉุงุฑุจุฑ ุงุนุชุจุงุฑ ูุฏุงุดุชู ุจุงุดุฏุ ุจุงุฏ ุดฺฉุณุช ุจุฎูุฑุฏ
    });
  ```

</details>

<br/><br/>

## โช ๏ธ 1.10 ุงุดุชุจุงูุงุช ุฑุง ูุชูุฌู ูุดูุฏุ ููุชุธุฑ ุขููุง ุจุงุดุฏ

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ููฺฏุงู ฺฉู ูโุฎูุงูุฏ ุงุฏุนุง ฺฉูุฏ ฺฉู ุจุฑุฎ ุงุฒ ูุฑูุฏโูุง ุจุงุนุซ ุงุฌุงุฏ ุฎุทุง ูโุดููุฏุ ููฺฉู ุงุณุช ุงุณุชูุงุฏู ุงุฒ try-catch-finally ุฏุฑุณุช ุจู ูุธุฑ ุจุฑุณุฏ ู ุงุฏุนุง ฺฉูุฏ ฺฉู ุจูุฏ catch ูุงุฑุฏ ุดุฏู ุงุณุช. ูุชุฌู ฺฉ ููุฑุฏ ุชุณุช ูุงููุงุณุจ ู ููุตู ุงุณุช (ูุซุงู ุฒุฑ) ฺฉู ูุฏู ุขุฒููู ุณุงุฏู ู ุงูุชุธุงุฑุงุช ูุชุฌู ุฑุง ูพููุงู ู ฺฉูุฏ.

ฺฉ ุฌุงฺฏุฒู ุฒุจุงุชุฑ ุงุณุชูุงุฏู ุงุฒ ุงุฏุนุง ุงุฎุชุตุงุต Chai ฺฉ ุฎุท ุงุณุช: expect(method).to.throw (ุง ุฏุฑ Jest: expect(method).toThrow()). ฺฉุงููุงู ุงุฌุจุงุฑ ุงุณุช ฺฉู ุงุทููุงู ุญุงุตู ุดูุฏ ฺฉู ุงุณุชุซูุง ุฏุงุฑุง ุฎุงุตุช ุงุณุช ฺฉู ููุน ุฎุทุง ุฑุง ุจุงู ู ฺฉูุฏุ ุฏุฑ ุบุฑ ุงู ุตูุฑุช ุจุง ุชูุฌู ุจู ฺฉ ุฎุทุง ุนูููุ ุจุฑูุงูู ูู ุชูุงูุฏ ุจู ุฌุง ููุงุด ฺฉ ูพุงู ูุงุงูุฏฺฉููุฏู ุจู ฺฉุงุฑุจุฑุ ฺฉุงุฑ ุฒุงุฏ ุงูุฌุงู ุฏูุฏ.
<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ุงุณุชูุชุงุฌ ุงุฒ ฺฏุฒุงุฑุดโูุง ุขุฒูุงุด (ูุซูุงู ฺฏุฒุงุฑุดโูุง CI) ฺุงูุด ุจุฑุงูฺฏุฒ ุฎูุงูุฏ ุจูุฏ

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :thumbsdown: ูุซุงู ุถุฏ ุงูฺฏู: ฺฉ ููุฑุฏ ุชุณุช ุทููุงู ฺฉู ุณุน ูโฺฉูุฏ ูุฌูุฏ ุฎุทุง ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุขุฒููู ุชุฃุฏ ฺฉูุฏ.

![](https://img.shields.io/badge/๐ง%20Example%20using%20Mocha-blue.svg "Examples with Mocha")

```javascript
it("ููฺฏุงู ฺฉู ูุงู ูุญุตูู ูุฌูุฏ ูุฏุงุฑุฏุ ุฎุทุง 400 ุฑุง ูุดุงู ู ุฏูุฏ", async () => {
  let errorWeExceptFor = null;
  try {
    const result = await addNewProduct({});
  } catch (error) {
    expect(error.code).to.equal("InvalidInput");
    errorWeExceptFor = error;
  }
  expect(errorWeExceptFor).not.to.be.null;
    //ุงฺฏุฑ ุงู ููุงุณู ูุงูููู ุจุงุดุฏุ ูุชุงุฌ/ฺฏุฒุงุฑุดโูุง ุชุณุช ููุท ูุดุงู ุฏุงุฏู ูโุดููุฏ
    //ฺฉู ููุฏุงุฑ ุชู ุงุณุชุ ฺฉููู ุง ุฏุฑ ููุฑุฏ ฺฉ ุงุณุชุซูุง ูุฌูุฏ ูุฎูุงูุฏ ุฏุงุดุช
});
```

<br/>

### :clap: ูุซุงู ุฏุฑุณุช: ุงูุชุธุงุฑ ูุงุจู ุฎูุงูุฏู ุจุฑุง ุงูุณุงู ฺฉู ุจู ุฑุงุญุช ูุงุจู ุฏุฑฺฉ ุงุณุชุ ุญุช ููฺฉู ุงุณุช ุชูุณุท QA ุง PM ูู

```javascript
it("ููฺฏุงู ฺฉู ูุงู ูุญุตูู ูุฌูุฏ ูุฏุงุฑุฏุ ุฎุทุง 400 ุฑุง ูุดุงู ู ุฏูุฏ", async () => {
  await expect(addNewProduct({}))
    .to.eventually.throw(AppError)
    .with.property("code", "InvalidInput");
});
```

</details>

<br/><br/>

## โช ๏ธ 1.11 ุชุณุช ูุง ุฎูุฏ ุฑุง ุชฺฏ ฺฉูุฏ

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ุชุณุช ูุง ูุฎุชูู ุจุงุฏ ุฏุฑ ุณูุงุฑููุง ูุฎุชูู ุงุฌุฑุง ุดููุฏ: ุฏูุฏ ุณุฑุนุ ุจุฏูู IOุ ุชุณุช ูุง ุจุงุฏ ุฒูุงู ฺฉู ฺฉ ุชูุณุนูโุฏููุฏู ูุงู ุฑุง ุฐุฎุฑู ุง ูุชุนูุฏ ูโฺฉูุฏุ ุงุฌุฑุง ูโุดููุฏุ ุชุณุช ูุง ฺฉุงูู ูพุงุงู ุจู ุงูุชูุง ูุนูููุงู ููฺฏุงู ุงุฑุณุงู ุฏุฑุฎูุงุณุช ฺฉุดุด ุฌุฏุฏ ุงุฌุฑุง ูโุดููุฏุ ู ุบุฑู. ุจุง ุจุฑฺุณุจ ฺฏุฐุงุฑ ุชุณุช ูุง ุจุง ฺฉููุงุช ฺฉูุฏ ูุงููุฏ #cold #api #sanity ุชุง ุจุชูุงูุฏ ุจุง ููุงุฑ ุชุณุช ุฎูุฏ ุฏุณุช ุจฺฏุฑุฏ ู ุฒุฑ ูุฌููุนู ููุฑุฏ ูุธุฑ ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ. ุจุฑุง ูุซุงูุ ุจู ุงู ุตูุฑุช ุงุณุช ฺฉู ููุท ฺฏุฑูู ุชุณุช ุณูุงูุช ุนูู ุฑุง ุจุง ููฺฉุง ูุฑุง ูโุฎูุงูุฏ: mochaโโโgrep โsanityโ
<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ุงุฌุฑุง ุชูุงู ุชุณุชโูุงุ ุงุฒ ุฌููู ุชุณุชโูุง ฺฉู ุฏูโูุง ูพุฑุณโูุฌู ุฏุฑ DB ุฑุง ุงูุฌุงู ูโุฏููุฏุ ูุฑ ุฒูุงู ฺฉู ฺฉ ุชูุณุนูโุฏููุฏู ฺฉ ุชุบุฑ ฺฉูฺฺฉ ุงุฌุงุฏ ฺฉูุฏ ูโุชูุงูุฏ ุจุณุงุฑ ฺฉูุฏ ุจุงุดุฏ ู ุชูุณุนูโุฏููุฏฺฏุงู ุฑุง ุงุฒ ุงุฌุฑุง ุชุณุช ูุง ุฏูุฑ ูฺฏู ุฏุงุฑุฏ.

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :clap: ูุซุงู ุฏุฑุณุช: ุจุฑฺุณุจ ฺฏุฐุงุฑ ุชุณุช ูุง ุจู ุนููุงู "#cold-test" ุจู ุงุฌุฑุงฺฉููุฏู ุขุฒููู ุงุฌุงุฒู ู ุฏูุฏ ููุท ุชุณุช ูุง ุณุฑุน ุฑุง ุงุฌุฑุง ฺฉูุฏ (ุชุณุช ูุง ุณุฑุฏ===ุณุฑุน ฺฉู ูฺ IO ุงูุฌุงู ูู ุฏููุฏ ู ุญุช ุฒูุงู ฺฉู ุชูุณุนู ุฏููุฏู ุฏุฑ ุญุงู ุชุงูพ ฺฉุฑุฏู ุงุณุช ู ุชูุงููุฏ ูฺฉุฑุฑุง ุงุฌุฑุง ุดููุฏ)

![](https://img.shields.io/badge/๐ง%20Example%20using%20Jest-blue.svg "Examples with Jest")

```javascript
//ุงู ุชุณุช ุณุฑุน ุงุณุช (ุจุฏูู DB) ู ูุง ุขู ุฑุง ูุทุงุจู ุจุง ุขู ุจุฑฺุณุจ ฺฏุฐุงุฑ ู ฺฉูู
//ุงฺฉููู ฺฉุงุฑุจุฑ/CI ู ุชูุงูุฏ ุขู ุฑุง ุจู ุทูุฑ ูฺฉุฑุฑ ุงุฌุฑุง ฺฉูุฏ
describe("ุณูุงุฑุด ุณุฑูุณ", function() {
  describe("ุงุถุงูู ฺฉุฑุฏู ุณูุงุฑุด ุฌุฏุฏ #ุชุณุช ุณุฑุฏ #ุนูู", function() {
    test("ุณูุงุฑู - ูฺ ุงุฑุฒ ุนุฑุถู ูุดุฏ. ุงูุชุธุงุฑ - ุงุฒ ุงุฑุฒ ูพุด ูุฑุถ #ุนูู ุงุณุชูุงุฏู ฺฉูุฏ", function() {
      //ุจูู ฺฉุฏูุง
    });
  });
});
```

</details>

<br/><br/>

## โช ๏ธ 1.12 ุชุณุช ูุง ุฑุง ุญุฏุงูู ุฏุฑ 2 ุณุทุญ ุฏุณุชู ุจูุฏ ฺฉูุฏ

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ุณุงุฎุชุงุฑ ุฑุง ุฏุฑ ูุฌููุนู ุขุฒูุงุด ุฎูุฏ ุงุนูุงู ฺฉูุฏ ุชุง ฺฉ ุจุงุฒุฏุฏฺฉููุฏู ฺฏุงู ุจู ฺฏุงู ุจุชูุงูุฏ ุจู ุฑุงุญุช ุงูุฒุงูุงุช (ุขุฒููู ูุง ุจูุชุฑู ูุณุชูุฏุงุช ูุณุชูุฏ) ู ุณูุงุฑููุง ูุฎุชูู ฺฉู ุฏุฑ ุญุงู ุขุฒูุงุด ูุณุชูุฏ ุฑุง ุฏุฑฺฉ ฺฉูุฏ. ฺฉ ุฑูุด ูุชุฏุงูู ุจุฑุง ุงู ฺฉุงุฑ ูุฑุงุฑ ุฏุงุฏู ุญุฏุงูู 2 ุจููฺฉ ยซุชูุถุญยป ุฏุฑ ุจุงูุง ุชุณุชโูุงุชุงู ุงุณุช: ุงูู ุจุฑุง ูุงู ูุงุญุฏ ุชุญุช ุขุฒูุงุด ู ุฏูู ุจุฑุง ุณุทุญ ุงุถุงู ุทุจููโุจูุฏ ูุงููุฏ ุณูุงุฑู ุง ุฏุณุชูโูุง ุณูุงุฑุด ุงุณุช (ูููููโูุง ฺฉุฏ ุฑุง ุจุจูุฏ ู ฺุงูพ ฺฉูุฏ. ุตูุญู ุฒุฑ). ุงูุฌุงู ุงู ฺฉุงุฑ ฺฏุฒุงุฑุดโูุง ุขุฒููู ุฑุง ูุฒ ุจุณุงุฑ ุจูุจูุฏ ูโุจุฎุดุฏ: ุฎูุงููุฏู ุจู ุฑุงุญุช ุฏุณุชูโูุง ุชุณุชโูุง ุฑุง ุงุณุชูุจุงุท ูโฺฉูุฏุ ุฏุฑ ุจุฎุด ููุฑุฏ ูุธุฑ ฺฉุงูุด ูโฺฉูุฏ ู ุชุณุชโูุง ูุฑุฏูุฏ ุฑุง ุจู ูู ูุฑุชุจุท ูโฺฉูุฏ. ุนูุงูู ุจุฑ ุงูุ ูพูุงุด ฺฉุฏ ฺฉ ูุฌููุนู ุจุง ุขุฒูุงุด ูุง ุฒุงุฏ ุจุฑุง ฺฉ ุชูุณุนู ุฏููุฏู ุจุณุงุฑ ุขุณุงู ุชุฑ ุฎูุงูุฏ ุดุฏ. ฺูุฏู ุณุงุฎุชุงุฑ ุฌุงฺฏุฒู ุจุฑุง ูุฌููุนู ุขุฒูุงุด ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ูโุชูุงูุฏ ุขููุง ุฑุง ูุงููุฏ ุขููุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ [ุฏุงุฏู ุดุฏู-ููุช-ูพุณ](https://github.com/searls/jasmine-given) ู [RITE](https://github.com/ericelliott/riteway)

<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ููุช ุจู ฺฏุฒุงุฑุด ุจุง ููุฑุณุช ูุณุทุญ ู ุทููุงู ุงุฒ ุขุฒูููโูุง ูฺฏุงู ูโฺฉููุ ุฎูุงููุฏู ุจุงุฏ ูุชูโูุง ุทููุงู ุฑุง ุจู ุทูุฑ ฺฉุงูู ุจุฎูุงูุฏ ุชุง ุณูุงุฑููุง ุงุตู ุฑุง ูุชุฌูโฺฏุฑ ฺฉูุฏ ู ูุดุชุฑฺฉุงุช ุฑุฏ ุดุฏู ุฏุฑ ุขุฒูููโูุง ุฑุง ุจู ูู ูุฑุชุจุท ฺฉูุฏ. ููุฑุฏ ุฒุฑ ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ: ููฺฏุงู ฺฉู 7/100 ุชุณุช ุดฺฉุณุช ู ุฎูุฑูุฏุ ูฺฏุงู ฺฉุฑุฏู ุจู ฺฉ ูุณุช ุซุงุจุช ูุงุฒ ุจู ุฎูุงูุฏู ูุชู ุชุณุช ูุง ูุฑุฏูุฏ ุฏุงุฑุฏ ุชุง ุจุจูุฏ ฺฺฏููู ุขููุง ุจุง ฺฉุฏฺฏุฑ ุงุฑุชุจุงุท ุฏุงุฑูุฏ. ุจุง ุงู ุญุงูุ ุฏุฑ ฺฉ ฺฏุฒุงุฑุด ุณูุณูู ูุฑุงุชุจุ ููู ุขููุง ู ุชูุงููุฏ ุชุญุช ฺฉ ุฌุฑุงู ุง ุฏุณุชู ุจุงุดูุฏ ู ุฎูุงููุฏู ุจู ุณุฑุนุช ุงุณุชูุจุงุท ู ฺฉูุฏ ฺฉู ุนูุช ุงุตู ุดฺฉุณุช ฺุณุช ุง ุญุฏุงูู ฺฉุฌุงุณุช.

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :clap: ูุซุงู ุฏุฑุณุช: ูุฌููุนู ุณุงุฎุชุงุฑ ุจุง ูุงู ูุงุญุฏ ุชุญุช ุขุฒูุงุด ู ุณูุงุฑููุง ุจู ฺฏุฒุงุฑุด ููุงุณุจ ููุฌุฑ ู ุดูุฏ ฺฉู ุฏุฑ ุฒุฑ ูุดุงู ุฏุงุฏู ุดุฏู ุงุณุช.

![](https://img.shields.io/badge/๐ง%20Example%20using%20Jest-blue.svg "Examples with Jest")

```javascript
// ูุงุญุฏ ุฏุฑ ุญุงู ุชุณุช
describe("ุณุฑูุณ ุงูุชูุงู", () => {
  //ุณูุงุฑู
  describe("ุฒูุงู ฺฉู ุงุนุชุจุงุฑ ูุฌูุฏ ูุฏุงุฑุฏ", () => {
    //ุงูุชุธุงุฑ
    test("ุณูพุณ ูุถุนุช ูพุงุณุฎ ุจุงุฏ ฺฉุงูุด ุงุจุฏ", () => {});

    //ุงูุชุธุงุฑ
    test("ุณูพุณ ุจุงุฏ ุจุฑุง ูุฏุฑ ุงูู ุงุฑุณุงู ุดูุฏ", () => {});
  });
});
```

![alt text](assets/hierarchical-report.png)

<br/>

### :thumbsdown: ูุซุงู ุถุฏ ุงูฺฏู: ฺฉ ูุณุช ูุณุทุญ ุงุฒ ุชุณุช ูุง ุดูุงุณุง ุฏุงุณุชุงู ูุง ฺฉุงุฑุจุฑ ู ุงุฑุชุจุงุท ุจู ุชุณุช ูุง ุดฺฉุณุช ุฎูุฑุฏู ุฑุง ุจุฑุง ุฎูุงููุฏู ุณุฎุช ุชุฑ ู ฺฉูุฏ.

![](https://img.shields.io/badge/๐ง%20Example%20using%20Jest-blue.svg "Examples with Mocha")

```javascript
test("ุณูพุณ ูุถุนุช ูพุงุณุฎ ุจุงุฏ ฺฉุงูุด ุงุจุฏ", () => {});

test("ุณูพุณ ุจุงุฏ ุงูู ุจูุฑุณุชุฏ", () => {});

test("ุฏุฑ ุงู ุตูุฑุช ูุจุงุฏ ุณุงุจูู ููู ู ุงูุชูุงูุงุช ุฌุฏุฏ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ", () => {});
```

![alt text](assets/flat-report.png)

<br/>

</details>

<br/><br/>

## โช ๏ธ1.13 ููุงุฑุฏ ุฏฺฏุฑ ุจุฑุง ููุดุชู ฺฉ ุชุณุช ุฎูุจ

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ุงู ูพุณุช ุฑู ุชูุตูโูุง ุขุฒูุงุด ูุชูุฑฺฉุฒ ุดุฏู ุงุณุชุ ุง ุญุฏุงูู ูโุชูุงู ุขู ุฑุง ุจุง Node JS ูุซุงู ุฒุฏ. ุจุง ุงู ุญุงูุ ุงู ฺฏููููุ ฺูุฏ ูฺฉุชู ุบุฑ ูุฑุชุจุท ุจุง Node ุฑุง ฺฉู ุจู ุฎูุจ ุดูุงุฎุชู ุดุฏู ุงูุฏุ ฺฏุฑูู ุจูุฏ ู ฺฉูุฏ

ุงุฏ ุจฺฏุฑุฏ ู ุชูุฑู ฺฉูุฏ [TDD principles](https://www.sm-cloud.com/book-review-test-driven-development-by-example-a-tldr/)โุขููุง ุจุฑุง ุจุณุงุฑ ุจุณุงุฑ ุงุฑุฒุดููุฏ ูุณุชูุฏุ ุงูุง ุงฺฏุฑ ุจุง ุณุจฺฉ ุดูุง ุณุงุฒฺฏุงุฑ ูุฏุงุฑูุฏุ ูุชุฑุณุฏุ ุดูุง ุชููุง ูุณุชุฏ. ุชุณุช ูุง ุฑุง ูุจู ุงุฒ ฺฉุฏ ุฏุฑ ุจููุณุฏ [red-green-refactor style](https://blog.cleancoder.com/uncle-bob/2014/12/17/TheCyclesOfTDD.html), ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ูุฑ ุชุณุช ุฏููุงู ฺฉ ฺุฒ ุฑุง ุจุฑุฑุณ ู ฺฉูุฏุ ููุช ฺฉ ุจุงฺฏ ูพุฏุง ฺฉุฑุฏุฏโโโูุจู ุงุฒ ุฑูุน ฺฉ ุชุณุช ุจููุณุฏ ฺฉู ุงู ุงุดฺฉุงู ุฑุง ุฏุฑ ุขูุฏู ุดูุงุณุง ฺฉูุฏุ ุงุฌุงุฒู ุฏูุฏ ูุฑ ุชุณุช ุญุฏุงูู ฺฉ ุจุงุฑ ูุจู ุงุฒ ุณุจุฒ ุดุฏู ุดฺฉุณุช ุจุฎูุฑุฏุ ุจุง ููุดุชู ฺฉ ฺฉุฏ ุณุฑุน ู ุณุงุฏูุ ฺฉ ูุงฺูู ุฑุง ุดุฑูุน ฺฉูุฏ. ุขุฒูุงุด ุฑุง ุจุฑุขูุฑุฏู ู ฺฉูุฏ - ุณูพุณ ุจู ุชุฏุฑุฌ ุงุตูุงุญ ฺฉูุฏ ู ุขู ุฑุง ุจู ุณุทุญ ุฏุฑุฌู ุชููุฏ ุจุจุฑุฏุ ุงุฒ ูุฑ ฺฏููู ูุงุจุณุชฺฏ ุจู ูุญุท (ูุณุฑูุงุ ุณุณุชู ุนุงูู ู ุบุฑู) ุงุฌุชูุงุจ ฺฉูุฏ.
<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ุฏูุช ุจุฑุง ูุฑูุงุฑุฏูุง ุฎุฑุฏ ฺฉู ุจุฑุง ฺูุฏู ุฏูู ุฌูุน ุขูุฑ ุดุฏู ุงูุฏ ุฑุง ุงุฒ ุฏุณุช ุฎูุงูุฏ ุฏุงุฏ

<br/><br/>

# Section 2๏ธโฃ: Backend ุชุณุช ฺฉุฑุฏู

## โช ๏ธ2.1 ูุฌููุนู ุชุณุช ุฎูุฏ ุฑุง ุฒุงุฏ ฺฉูุฏ: ูุฑุงุชุฑ ุงุฒ Unit Test ู ูุฑู ุชุณุช ูุฑู ุงูุฒุงุฑ ูฺฏุงู ฺฉูุฏ

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:**  [ุชุณุช ฺฉุฑุฏู ูุฑู](https://martinfowler.com/bliki/TestPyramid.html), ุงฺฏุฑฺู 10 ุณุงู ุณู ุฏุงุฑุฏุ ุงูุง ฺฉ ูุฏู ุนุงู ู ูุฑุชุจุท ุงุณุช ฺฉู ุณู ููุน ุชุณุช ุฑุง ูพุดููุงุฏ ู ฺฉูุฏ ู ุจุฑ ุงุณุชุฑุงุชฺ ุชุณุช ุงฺฉุซุฑ ุชูุณุนู ุฏููุฏฺฏุงู ุชุฃุซุฑ ู ฺฏุฐุงุฑุฏ. ุฏุฑ ููุงู ุฒูุงูุ ุจุด ุงุฒ ุชุนุฏุงุฏ ุงูฺฏุดุช ุดูุงุฑ ุงุฒ ุชฺฉูฺฉโูุง ุขุฒูุงุด ุฌุฏุฏ ุจุฑุงู ุธุงูุฑ ุดุฏูุฏ ู ุฏุฑ ุณุงูโูุง ูุฑู ุขุฒูุงุด ูพููุงู ุดุฏูุฏ. ุจุง ุชูุฌู ุจู ุชูุงู ุชุบุฑุงุช ฺุดูฺฏุฑ ฺฉู ุฏุฑ 10 ุณุงู ุงุฎุฑ ุฏุฏู ุงู (ุณุฑูุณ ูุง ูฺฉุฑูุ ุงุจุฑุ ุจุฏูู ุณุฑูุฑ)ุ ุขุง ุญุช ููฺฉู ุงุณุช ฺฉ ูุฏู ฺฉุงููุงู ูุฏู ุจุฑุง *ููู* ุงููุงุน ุจุฑูุงูู ูุง ููุงุณุจ ุจุงุดุฏุ ุขุง ุฏูุง ุชุณุช ูุจุงุฏ ุงุฒ ุชฺฉูฺฉ ูุง ุชุณุช ุฌุฏุฏ ุงุณุชูุจุงู ฺฉูุฏุ

ุงุดุชุจุงู ูฺฉูุฏุ ุฏุฑ ุณุงู 2019 ุชุณุช ูุฑูุ ุชุณุช TDD ู ูุงุญุฏ ูููุฒ ฺฉ ุชฺฉูฺฉ ูุฏุฑุชููุฏ ูุณุชูุฏ ู ุงุญุชูุงูุงู ุจูุชุฑู ุชุทุงุจู ุจุฑุง ุจุณุงุฑ ุงุฒ ุจุฑูุงูู ูุง ูุณุชูุฏ. ููุท ูุงููุฏ ูุฑ ูุฏู ุฏฺฏุฑ ุจุง ูุฌูุฏ ููุฏ ุจูุฏู, [ฺฏุงู ุงููุงุช ุจุงุฏ ุงุดุชุจุงู ุจุงุดุฏ](https://en.wikipedia.org/wiki/All_models_are_wrong). ุจู ุนููุงู ูุซุงูุ ฺฉ ุจุฑูุงูู IoT ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ ฺฉู ุจุณุงุฑ ุงุฒ ุฑูุฏุงุฏูุง ุฑุง ุฏุฑ ฺฉ ฺฏุฐุฑฺฏุงู ูพุงู ูุงููุฏ Kafka/RabbitMQ ูุงุฑุฏ ูโฺฉูุฏุ ฺฉู ุณูพุณ ุจู ุงูุจุงุฑ ุฏุงุฏู ุณุฑุงุฒุฑ ูโุดูุฏ ู ุฏุฑ ููุงุช ุชูุณุท ุจุฑุฎ ุงุฒ ุฑุงุจุทโูุง ุชุญูู ูพุฑุณ ู ุฌู ูโุดูุฏ. ุขุง ูุงูุนุงู ุจุงุฏ 50 ุฏุฑุตุฏ ุงุฒ ุจูุฏุฌู ุชุณุช ุฎูุฏ ุฑุง ุตุฑู ููุดุชู ุขุฒููู ูุง ูุงุญุฏ ุจุฑุง ุจุฑูุงูู ุง ฺฉูู ฺฉู ฺฉูพุงุฑฺู ูุญูุฑ ุงุณุช ู ุชูุฑุจุงู ูฺ ููุทู ูุฏุงุฑุฏุ ุจุง ุงูุฒุงุด ุชููุน ุงููุงุน ุจุฑูุงูู ูุง (ุฑุจุงุช ูุงุ ฺฉุฑูพุชูุ ููุงุฑุช ูุง ุงูฺฉุณุง) ุดุงูุณ ุจุดุชุฑ ุจุฑุง ุงูุชู ุณูุงุฑููุง ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุฏุฑ ุขู ูุฑู ุขุฒูุงุด ุจูุชุฑู ุชุทุงุจู ูุณุช.

ููุช ุขู ุฑุณุฏู ุงุณุช ฺฉู ูุฌููุนู ุขุฒูุงุด ุฎูุฏ ุฑุง ุบู ฺฉูุฏ ู ุจุง ุงููุงุน ุชุณุช ูุง ุจุดุชุฑ ุขุดูุง ุดูุฏ (ฺฏูููู ูุง ุจุนุฏ ุงุฏู ูุง ฺฉู ุฑุง ูพุดููุงุฏ ู ฺฉููุฏ)ุ ูุฏู ูุง ุฐูู ูุงููุฏ ูุฑู ุขุฒูุงุดุ ุงูุง ููฺูู ุงููุงุน ุขุฒูุงุด ุฑุง ุจุง ูุดฺฉูุงุช ุฏูุง ูุงูุน ฺฉู ุจุง ุขู ููุงุฌู ูุณุชุฏ ูุทุงุจูุช ุฏูุฏ ('Hey, API ูุง ุฎุฑุงุจ ุงุณุชุ ุจุงุฏ ุชุณุช ูุฑุงุฑุฏุงุฏ ูุจุชู ุจุฑ ูุตุฑูโฺฉููุฏู ุจููุณู!ยป)ุ ุขุฒูุงุดโูุง ุฎูุฏ ุฑุง ูุงููุฏ ุณุฑูุงูโฺฏุฐุงุฑ ฺฉู ุณุจุฏ ุณูุงู ุฑุง ุจุฑ ุงุณุงุณ ุชุฌุฒู ู ุชุญูู ุฑุณฺฉ ูโุณุงุฒุฏุ ูุชููุน ฺฉูุฏโ ุงุฑุฒุงุจ ฺฉูุฏ ฺฉู ุฏุฑ ฺฉุฌุง ููฺฉู ุงุณุช ูุดฺฉูุงุช ุงุฌุงุฏ ุดููุฏ ู ุจุง ุจุฑุฎ ุงุฒ ุงูุฏุงูุงุช ูพุดฺฏุฑุงูู ุจุฑุง ฺฉุงูุด ุฎุทุฑุงุช ุงุญุชูุงู ูุทุงุจูุช ุฏูุฏ.

ฺฉ ฺฉููู ุงุญุชุงุท: ุงุณุชุฏูุงู TDD ุฏุฑ ุฏูุง ูุฑู ุงูุฒุงุฑ ฺฉ ฺูุฑู ุฏูฺฏุงูฺฏ ฺฉุงุฐุจ ูุนููู ุฏุงุฑุฏุ ุจุฑุฎ ููุนุธู ู ฺฉููุฏ ฺฉู ุงุฒ ุขู ุฏุฑ ููู ุฌุง ุงุณุชูุงุฏู ฺฉููุฏุ ุจุฑุฎ ุฏฺฏุฑ ูฺฉุฑ ู ฺฉููุฏ ฺฉู ุงู ุดุทุงู ุงุณุช. ูุฑ ฺฉุณ ุจู ุทูุฑ ูุทูู ุตุญุจุช ู ฺฉูุฏ ุงุดุชุจุงู ู ฺฉูุฏ:]

<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ุจุฑุฎ ุงุฒ ุงุจุฒุงุฑูุง ุจุง ROI ุดฺฏูุช ุงูฺฏุฒ ุฑุง ุงุฒ ุฏุณุช ุฎูุงูุฏ ุฏุงุฏุ ุจุฑุฎ ูุงููุฏ Fuzzุ lint ู ุฌูุด ู ุชูุงููุฏ ุฏุฑ 10 ุฏููู ุงุฑุฒุด ุงุฑุงุฆู ุฏููุฏ.

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :clap:  ูุซุงู ุฏุฑุณุช: ุณูุฏ ุณุฑุฏูุงู ฺฉ ููููู ฺฉุงุฑ ุขุฒูุงุด ุบู ุฑุง ุฏุฑ ูพุณุช ุดฺฏูุชโุงูฺฏุฒ ุฎูุฏ ยซุชุณุช ฺฉุฑุฏู ูฺฉุฑูุณุฑูุณโูุงยป ูพุดููุงุฏ ูโฺฉูุฏ - ุจู ููู ุฑูุด.

![alt text](assets/bp-12-rich-testing.jpeg "Cindy Sridharan suggests a rich testing portfolio in her amazing post โTesting Microservicesโโโthe sane wayโ")

<strong class="markup--strong markup--p-strong">โบ๏ธExample: </strong><a href="https://www.youtube.com/watch?v=-2zP494wdUY&amp;feature=youtube" data-href="https://www.youtube.com/watch?v=-2zP494wdUY&amp;feature=youtu.be" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">[YouTube: โBeyond Unit Tests: 5 Shiny Node.JS Test Types (2018)โ (Yoni Goldberg)](https://www.youtube.com/watch?v=-2zP494wdUY&feature=youtu.be)</a>

<br/>

![alt text](assets/bp-12-Yoni-Goldberg-Testing.jpeg "A test name that constitutes 3 parts")

</details>

<br/><br/>

## โช ๏ธ2.2 ุชุณุช ฺฉุงููพูููุช ููฺฉู ุงุณุช ุจูุชุฑู ฺฉุงุฑ ุดูุง ุจุงุดุฏ 

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ูุฑ Unit test ุจุฎุด ฺฉูฺฺฉ ุงุฒ ุจุฑูุงูู ุฑุง ูพูุดุด ูโุฏูุฏ ู ูพูุดุด ฺฉู ุขู ฺฏุฑุงู ุงุณุชุ ุฏุฑ ุญุงู ฺฉู ุชุณุช E2E ุจู ุฑุงุญุช ุฒูู ุฒุงุฏ ุฑุง ูพูุดุด ูโุฏูุฏุ ุงูุง ูพูุณุชู ูพูุณุชู ู ฺฉูุฏุชุฑ ุงุณุชุ ฺุฑุง ฺฉ ุฑูฺฉุฑุฏ ูุชุนุงุฏู ุฑุง ุงุนูุงู ูฺฉูู ู ุชุณุชโูุง ุจุฒุฑฺฏโุชุฑ ุงุฒ ุขู ุจููุณู. Unit tests ุงูุง ฺฉูฺฺฉุชุฑ ุงุฒ ุชุณุช E2Eุ ุชุณุช ฺฉุงููพูููุช ุขููฺฏ ูุงุฎูุงูุฏู ุฏูุง ุขุฒูุงุด ุงุณุชโโุขููุง ุจูุชุฑู ูุง ุฑุง ุงุฒ ูุฑ ุฏู ุฏูุง ุงุฑุงุฆู ู ุฏููุฏ: ุนููฺฉุฑุฏ ูุนููู ู ุงูฺฉุงู ุงุนูุงู ุงูฺฏููุง TDD + ูพูุดุด ูุงูุน ู ุนุงู.

ุชุณุชโูุง ฺฉุงููพูููุช ุฑู ยซูุงุญุฏยป ูฺฉุฑูุณุฑูุณ ุชูุฑฺฉุฒ ูโฺฉููุฏุ ุขูโูุง ุจุฑ ุฎูุงู API ฺฉุงุฑ ูโฺฉููุฏุ ูุฑ ฺุฒ ุฑุง ฺฉู ูุชุนูู ุจู ุฎูุฏ ูฺฉุฑูุณุฑูุณ ุงุณุช (ูุซูุงู DB ูุงูุน ุง ุญุฏุงูู ูุณุฎู ุฏุฑูู ุญุงูุธู ุขู DB) ุฑุง ูุณุฎุฑู ููโฺฉููุฏุ ุงูุง ูุฑ ฺุฒ ุฑุง ฺฉู ุฎุงุฑุฌ ุงุณุชุ ุฎุฑุฏ ููโฺฉููุฏ. ูุงููุฏ ุชูุงุณ ุจุง ุณุงุฑ ูฺฉุฑูุณุฑูุณ ูุง. ุจุง ุงูุฌุงู ุงู ฺฉุงุฑุ ุขูฺู ุฑุง ฺฉู ุจู ฺฉุงุฑ ูโฺฏุฑู ุขุฒูุงุด ูโฺฉููุ ุจุฑูุงูู ุฑุง ุงุฒ ุจุฑูู ุจู ุฏุงุฎู ูุฒุฏฺฉ ูโฺฉูู ู ุฏุฑ ูุฏุช ุฒูุงู ูุนููู ุงุนุชูุงุฏ ุจู ููุณ ุจุงูุง ุจู ุฏุณุช ูโุขูุฑู.

[ูุง ฺฉ ุฑุงูููุง ฺฉุงูู ุฏุงุฑู ฺฉู ุตุฑูุงู ุจู ููุดุชู ุชุณุช ูุง ูุคููู ุจู ุฑูุด ุตุญุญ ุงุฎุชุตุงุต ุฏุงุฑุฏ](https://github.com/testjavascript/nodejs-integration-tests-best-practices)

<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ููฺฉู ุงุณุช ุฑูุฒูุง ุทููุงู ุฑุง ุตุฑู ููุดุชู Unit test ฺฉูุฏ ุชุง ูุชูุฌู ุดูุฏ ฺฉู ููุท 20 ุฏุฑุตุฏ ูพูุดุด ุณุณุชู ุฑุง ุฏุงุฑุฏ

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :clap: ููุงู ุฏุฑุณุช: Supertest ุงุฌุงุฒู ู ุฏูุฏ ุชุง ูุฒุฏฺฉ ุดุฏู ุจู Express API ุฏุฑ ูุฑุขูุฏ (ุณุฑุน ู ูพูุดุด ฺูุฏู ูุงู)

![](https://img.shields.io/badge/๐ง%20Example%20using%20Mocha-blue.svg "Examples with Mocha")

![alt text](assets/bp-13-component-test-yoni-goldberg.png " [Supertest](https://www.npmjs.com/package/supertest) allows approaching Express API in-process (fast and cover many layers)")

</details>

<br/><br/>

## โช ๏ธ2.3 ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ูุณุฎูโูุง ุฌุฏุฏ ูุฑู ุงูุฒุงุฑ , ุชุณุช ูุง ฺฉู ุจุฑุง api ูุง ููุดุชู ุดุฏู ุงุณุช ุฑุง ุฎุฑุงุจ ููโฺฉููุฏ

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ุจูุงุจุฑุงู Microservice ุดูุง ฺูุฏู ูุดุชุฑ ุฏุงุฑุฏ ู ุดูุง ฺูุฏู ูุณุฎู ุงุฒ ุงู ุณุฑูุณ ุฑุง ุจู ุฏูุงู ุณุงุฒฺฏุงุฑ ุงุฌุฑุง ู ฺฉูุฏ (ุฑุงุถ ูฺฏู ุฏุงุดุชู ููู). ุณูพุณ ููุฏุงุฑ ููุฏ ุฑุง ุชุบุฑ ูโุฏูุฏ ู ยซุจูู!ยปุ ูุดุชุฑ ููู ฺฉู ุจู ุงู ุฒููู ูุชฺฉ ุงุณุช ุนุตุจุงู ุงุณุช. ุงู Catch-22 ุฏูุง ฺฉูพุงุฑฺู ุณุงุฒ ุงุณุช: ุจุฑุง ุทุฑู ุณุฑูุฑ ุจุณุงุฑ ฺุงูุด ุจุฑุงูฺฏุฒ ุงุณุช ฺฉู ุชูุงู ุงูุชุธุงุฑุงุช ูุดุชุฑ ฺูุฏฺฏุงูู ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏโโุงุฒ ุณู ุฏฺฏุฑุ ูุดุชุฑุงู ูู ุชูุงููุฏ ูฺ ุขุฒูุงุด ุฑุง ุงูุฌุงู ุฏููุฏ ุฒุฑุง ุณุฑูุฑ ุชุงุฑุฎ ุงูุชุดุงุฑ ุฑุง ฺฉูุชุฑู ู ฺฉูุฏ. ุทู ุงุฒ ุชฺฉูฺฉโูุง ูุฌูุฏ ุฏุงุฑูุฏ ฺฉู ูโุชูุงููุฏ ูุดฺฉู ูุฑุงุฑุฏุงุฏ ุฑุง ฺฉุงูุด ุฏููุฏุ ุจุฑุฎ ุณุงุฏู ูุณุชูุฏุ ุจุฑุฎ ุฏฺฏุฑ ุฏุงุฑุง ูฺฺฏโูุง ุบูโุชุฑ ูุณุชูุฏ ู ููุญู ุงุฏฺฏุฑ ุชูุฏุชุฑ ุฑุง ุทูุจ ูโฺฉููุฏ. ุฏุฑ ฺฉ ุฑูฺฉุฑุฏ ุณุงุฏู ู ุชูุตูโุดุฏูุ ุงุฑุงุฆูโุฏููุฏู API ุจุณุชู npm ุฑุง ุจุง ุชุงูพ API ููุชุดุฑ ูโฺฉูุฏ (ูุงููุฏ JSDocุ TypeScript). ุณูพุณ ูุตุฑู ฺฉููุฏฺฏุงู ู ุชูุงููุฏ ุงู ฺฉุชุงุจุฎุงูู ุฑุง ุฏุฑุงูุช ฺฉููุฏ ู ุงุฒ ุฒูุงู ููุดููุฏุงูู ู ุงุนุชุจุงุฑุณูุฌ ุจูุฑู ููุฏ ุดููุฏ. ฺฉ ุฑูฺฉุฑุฏ ุดฺฉ ุชุฑ ุงุฒ ุขู ุจุฑุง ุงุณุชูุงุฏู [PACT](https://docs.pact.io/) ฺฉู ุจุฑุง ุฑุณู ฺฉุฑุฏู ุงู ูุฑุขูุฏ ุจุง ุฑูฺฉุฑุฏ ุจุณุงุฑ ูุฎุฑุจ ูุชููุฏ ุดุฏูโุงูุฏโโโูู ุณุฑูุฑ ุจุฑูุงูู ุขุฒูุงุด ุฑุง ุงุฒ ุฎูุฏ ุชุนุฑู ูโฺฉูุฏุ ุจูฺฉู ูุดุชุฑ ุขุฒูุงุดโูุง ุณุฑูุฑ ุฑุง ุชุนุฑู ูโฺฉูุฏ! PACT ูโุชูุงูุฏ ุงูุชุธุงุฑุงุช ูุดุชุฑ ุฑุง ุซุจุช ฺฉูุฏ ู ุฏุฑ ฺฉ ูฺฉุงู ูุดุชุฑฺฉุ ยซฺฉุงุฑฺฏุฒุงุฑยป ูุฑุงุฑ ุฏูุฏุ ุจูุงุจุฑุงู ุณุฑูุฑ ูโุชูุงูุฏ ุงูุชุธุงุฑุงุช ุฑุง ุฌูุนโุขูุฑ ฺฉูุฏ ู ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉุชุงุจุฎุงูู PACT ุฑู ูุฑ ุณุงุฎุชู ุงุฌุฑุง ฺฉูุฏ ุชุง ูุฑุงุฑุฏุงุฏูุง ุดฺฉุณุชู ุฑุง ุดูุงุณุง ฺฉูุฏ - ฺฉ ุงูุชุธุงุฑ ูุดุชุฑ ฺฉู ุจุฑุขูุฑุฏู ูุดุฏู ุงุณุช. ุจุง ุงูุฌุงู ุงู ฺฉุงุฑุ ููู ูุงููุงููฺฏ ูุง API ุณุฑูุฑ-ฺฉููุช ุฏุฑ ูุฑุงุญู ุงููู ุณุงุฎุช/CI ุดูุงุณุง ู ุดููุฏ ู ููฺฉู ุงุณุช ุดูุง ุฑุง ุงุฒ ูุงุงูุฏ ุฒุงุฏ ูุฌุงุช ุฏูุฏ.
<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ฺฏุฒูู ูุง ุฌุงฺฏุฒู ุชุณุช ุฏุณุช ุฎุณุชู ฺฉููุฏู ุง ุชุฑุณ ุงุฒ ุงุณุชูุฑุงุฑ ูุณุชูุฏ

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :clap: ููุงู ุฏุฑุณุช:

![](https://img.shields.io/badge/๐ง%20Example%20using%20PACT-blue.svg "Examples with PACT")

![alt text](assets/bp-14-testing-best-practices-contract-flow.png)

</details>

<br/><br/>

## โช ๏ธ 2.4 middleware ุฎูุฏ ุฑุง ุฌุฏุงฺฏุงูู ุชุณุช ฺฉูุฏ

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ุจุณุงุฑ ุงุฒ ุชุณุช Middleware ุงุฌุชูุงุจ ู ฺฉููุฏ ุฒุฑุง ุขููุง ุจุฎุด ฺฉูฺฺฉ ุงุฒ ุณุณุชู ุฑุง ูุดุงู ู ุฏููุฏ ู ุจู ฺฉ ุณุฑูุฑ Express ุฒูุฏู ูุงุฒ ุฏุงุฑูุฏ. ูุฑ ุฏู ุฏูู ุงุดุชุจุงู ูุณุชูุฏโโMiddleware ูุง ฺฉูฺฺฉ ูุณุชูุฏ ุงูุง ุจุฑ ููู ุง ุจุดุชุฑ ุฏุฑุฎูุงุณุช ูุง ุชุฃุซุฑ ู ฺฏุฐุงุฑูุฏ ู ู ุชูุงููุฏ ุจู ุฑุงุญุช ุจู ุนููุงู ุชูุงุจุน ุฎุงูุต ฺฉู ุงุดุงุก JS {req,res} ุฑุง ุฏุฑุงูุช ู ฺฉููุฏ ุขุฒูุงุด ุดููุฏ. ุจุฑุง ุขุฒูุงุด ุนููฺฉุฑุฏ ูุงูโุงูุฒุงุฑุ ููุท ุจุงุฏ ุขู ุฑุง ูุฑุงุฎูุงู ู ุฌุงุณูุณ ฺฉุฑุฏ ([ุจุฑุง ูุซุงู ุงุฒ Sinon ุงุณุชูุงุฏู ฺฉูุฏ](https://www.npmjs.com/package/sinon)) ุฏุฑ ุชุนุงูู ุจุง ุฏู object {req,res} ุจุฑุง ุงุทููุงู ุงุฒ ุงูุฌุงู ุนููฺฉุฑุฏ ุตุญุญ ุนููฺฉุฑุฏ. ฺฉุชุงุจุฎุงูู [node-mock-http](https://www.npmjs.com/package/node-mocks-http) ุขู ุฑุง ุญุช ูุฑุงุชุฑ ู ุจุฑุฏ ู ุฏู object {req,res} ุฑุง ููุฑุงู ุจุง ุฌุงุณูุณ ุงุฒ ุฑูุชุงุฑ ุขููุง ูุงฺฉุชูุฑ ู ฺฉูุฏ. ุจู ุนููุงู ูุซุงูุ ู ุชูุงูุฏ ุงุฏุนุง ฺฉูุฏ ฺฉู ุขุง ูุถุนุช http ฺฉู ุฑู ุด res ุชูุธู ุดุฏู ุงุณุช ุจุง ุงูุชุธุงุฑุงุช ูุทุงุจูุช ุฏุงุฑุฏ ุง ุฎุฑ (ุจู ูุซุงู ุฒุฑ ูุฑุงุฌุนู ฺฉูุฏ).
<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ฺฉ ุงุดฺฉุงู ุฏุฑ ูุงู ุงูุฒุงุฑ Express === ฺฉ ุงุดฺฉุงู ุฏุฑ ููู ุง ุงฺฉุซุฑ request ูุง

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :clap: ููุงู ุฏุฑุณุช: ุชุณุช middleware ุจูโุตูุฑุช ูุฌุฒุง ุจุฏูู ุจุฑูุฑุงุฑ ุชูุงุณโูุง ุดุจฺฉู ู ุจุฏุงุฑ ฺฉุฑุฏู ฺฉู ุฏุณุชฺฏุงู Express

![](https://img.shields.io/badge/๐ง%20Example%20using%20Jest-blue.svg "Examples with Jest")

```javascript
//middleware ฺฉู ู ุฎูุงูู ุชุณุช ฺฉูู
const unitUnderTest = require("./middleware");
const httpMocks = require("node-mocks-http");
//Jest syntax, equivelant to describe() & it() in Mocha
test("ุฏุฑุฎูุงุณุช ุจุฏูู ูุฏุฑ ุงุญุฑุงุฒ ููุชุ ุจุงุฏ ูุถุนุช http 403 ุฑุง ุจุฑฺฏุฑุฏุงูุฏ", () => {
  const request = httpMocks.createRequest({
    method: "GET",
    url: "/user/42",
    headers: {
      authentication: ""
    }
  });
  const response = httpMocks.createResponse();
  unitUnderTest(request, response);
  expect(response.statusCode).toBe(403);
});
```

</details>

<br/><br/>

## โช ๏ธ2.5 ุงูุฏุงุฒู ฺฏุฑ ู ุจุงุฒุณุงุฒ ุจุง ุงุณุชูุงุฏู ุงุฒ ุงุจุฒุงุฑูุง ุชุญูู ุงุณุชุงุชฺฉ

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ุงุณุชูุงุฏู ุงุฒ ุงุจุฒุงุฑูุง ุชุฌุฒู ู ุชุญูู ุงุณุชุงุชฺฉ ุจุง ุงุฑุงุฆู ุฑูุด ูุง ุนู ุจุฑุง ุจูุจูุฏ ฺฉูุช ฺฉุฏ ู ุญูุธ ฺฉุฏ ุดูุง ฺฉูฺฉ ู ฺฉูุฏ. ูโุชูุงูุฏ ุงุจุฒุงุฑูุง ุชุฌุฒู ู ุชุญูู ุงุณุชุงุชฺฉ ุฑุง ุจู ุณุงุฎุช CI ุฎูุฏ ุงุถุงูู ฺฉูุฏ ุชุง ุฒูุงู ฺฉู ุจู ฺฉุฏ ูพุฏุง ูโุดูุฏุ ูุบู ุดูุฏ. ููุงุท ุงุตู ูุฑูุด ุขู ูุณุจุช ุจู ูพุฑุฏูโุจูุฏ ุณุงุฏูุ ุชูุงูุง ุจุงุฒุฑุณ ฺฉูุช ุฏุฑ ุฒููู ูุงูโูุง ูุชุนุฏุฏ (ุจู ุนููุงู ูุซุงู ุดูุงุณุง ููุงุฑุฏ ุชฺฉุฑุงุฑ)ุ ุงูุฌุงู ุชุฌุฒู ู ุชุญูู ูพุดุฑูุชู (ูุงููุฏ ูพฺุฏฺฏ ฺฉุฏ) ู ูพฺฏุฑ ุชุงุฑุฎฺู ู ูพุดุฑูุช ูุดฺฉูุงุช ฺฉุฏ ุงุณุช. ุฏู ููููู ุงุฒ ุงุจุฒุงุฑูุง ฺฉู ู ุชูุงูุฏ ุงุณุชูุงุฏู ฺฉูุฏ ุนุจุงุฑุชูุฏ ุงุฒ [SonarQube](https://www.sonarqube.org/) (4,900+ [ุณุชุงุฑู](https://github.com/SonarSource/sonarqube)) ู [ฺฉุฏ ุขุจ ู ููุง](https://codeclimate.com/) (2,000+ [ุณุชุงุฑู](https://github.com/codeclimate/codeclimate))

ุณุงุฒูุฏู: <a href="https://github.com/TheHollidayInn" data-href="https://github.com/TheHollidayInn" class="markup--anchor markup--p-anchor" rel="noopener nofollow" target="_blank">[Keith Holliday](https://github.com/TheHollidayInn)</a>

<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ุจุง ฺฉูุช ูพุงู ฺฉุฏุ ุงุดฺฉุงูุงุช ู ุนููฺฉุฑุฏ ููุดู ูุดฺฉู ุงุณุช ฺฉู ูฺ ฺฉุชุงุจุฎุงูู ุฌุฏุฏ ู ุจุฑุงู ุฌุฏุฏ ูู ุชูุงูุฏ ุขู ุฑุง ุจุฑุทุฑู ฺฉูุฏ.

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :clap: ููุงู ุฏุฑุณุช: CodeClimateุ ฺฉ ุงุจุฒุงุฑ ุชุฌุงุฑ ุงุณุช ฺฉู ู ุชูุงูุฏ ูุชุฏ ูุง ูพฺุฏู ุฑุง ุดูุงุณุง ฺฉูุฏ:

![](https://img.shields.io/badge/๐ง%20Example%20using%20Code%20Climate-blue.svg "Examples with CodeClimate")

![alt text](assets/bp-16-yoni-goldberg-quality.png "CodeClimate, a commercial tool that can identify complex methods:")

</details>

<br/><br/>

## โช ๏ธ 2.6 ุขูุงุฏฺฏ ุฎูุฏ ุฑุง ุจุฑุง ูุฑุฌ ู ูุฑุฌ ูุฑุชุจุท ุจุง Node ุจุฑุฑุณ ฺฉูุฏ

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ุจู ุทูุฑ ุนุฌุจุ ุงฺฉุซุฑ ุชุณุชโูุง ูุฑูโุงูุฒุงุฑ ููุท ุฏุฑ ููุฑุฏ ููุทู ู ุฏุงุฏูโูุง ูุณุชูุฏุ ุงูุง ุจุฑุฎ ุงุฒ ุจุฏุชุฑู ฺุฒูุง ฺฉู ุงุชูุงู ูโุงูุชุฏ (ู ูุงูุนุงู ฺฉุงูุด ุขู ุณุฎุช ุงุณุช) ูุณุงุฆู ุฒุฑุณุงุฎุช ุงุณุช. ุจู ุนููุงู ูุซุงูุ ุขุง ุชุง ุจู ุญุงู ุขุฒูุงุด ฺฉุฑุฏูโุงุฏ ฺฉู ฺู ุงุชูุงู ูโุงูุชุฏ ููุช ุญุงูุธู ูพุฑุฏุงุฒุด ุดูุง ุจุด ุงุฒ ุญุฏ ุจุงุฑฺฏุฑ ูโุดูุฏุ ุง ุฒูุงู ฺฉู ุณุฑูุฑ/ูุฑุขูุฏ ุงุฒ ุจู ูโุฑูุฏุ ุง ุขุง ุณุณุชู ูุธุงุฑุช ุดูุง ูุชูุฌู ูโุดูุฏ ฺฉู API 50ูช ฺฉูุฏุชุฑ ูโุดูุฏุ ุจุฑุง ุขุฒูุงุด ู ฺฉุงูุด ุงู ููุน ฺุฒูุง ุจุฏโโ[ูููุฏุณ ุขุดูุจ](https://principlesofchaos.org/) ุชูุณุท ูุชููฺฉุณ ูุชููุฏ ุดุฏ. ูุฏู ุขู ุงุฑุงุฆู ุขฺฏุงูุ ฺุงุฑฺูุจ ูุง ู ุงุจุฒุงุฑูุง ุจุฑุง ุขุฒูุงุด ุงูุนุทุงู ูพุฐุฑ ุจุฑูุงูู ูุง ุฏุฑ ุจุฑุงุจุฑ ูุณุงุฆู ุขุดูุชู ุงุณุช. ุจู ุนููุงู ูุซุงู ฺฉ ุงุฒ ุงุจุฒุงุฑูุง ูุนุฑูู ุขูุ [ูููู ุขุดูุจ](https://github.com/Netflix/chaosmonkey), ุจู ุทูุฑ ุชุตุงุฏู ุณุฑูุฑูุง ุฑุง ู ฺฉุดุฏ ุชุง ุงุทููุงู ุญุงุตู ุดูุฏ ฺฉู ุณุฑูุณ ูุง ููฺูุงู ู ุชูุงูุฏ ุจู ฺฉุงุฑุจุฑุงู ุณุฑูุณ ุฏูุฏ ู ุจู ฺฉ ุณุฑูุฑ ุชฺฉู ูู ฺฉูุฏ (ูุณุฎู Kubernetes ูุฒ ูุฌูุฏ ุฏุงุฑุฏุ [ูููู ฺฉูุจู](https://github.com/asobti/kube-monkey), ฺฉู ุบูุงู ูุง ุฑุง ู ฺฉุดุฏ). ููู ุงู ุงุจุฒุงุฑูุง ุฏุฑ ุณุทุญ ูุฒุจุงู/ูพูุชูุฑู ฺฉุงุฑ ูโฺฉููุฏุ ุงูุง ุงฺฏุฑ ูโุฎูุงูุฏ ุขุดูุชฺฏ Node ุฎุงูุต ุฑุง ุขุฒูุงุด ู ุงุฌุงุฏ ฺฉูุฏุ ฺู ูโฺฉูุฏุ ูุงููุฏ ุจุฑุฑุณ ุงูฺฉู ฺฺฏููู ูุฑุขูุฏ Node ุดูุง ุจุง ุฎุทุงูุง ฺฉุดู ูุดุฏูุ ุฑุฏ ฺฉุฑุฏู ูุนุฏูโูุง ฺฉูุชุฑู ูุดุฏูุ ุญุงูุธู v8 ุจุงุฑฺฏุฑ ุดุฏู ุจุง ุญุฏุงฺฉุซุฑ ูุฌุงุฒ 1.7 ฺฏฺฏุงุจุงุช ุง ุงูฺฉู ุขุง ฺฉูุชุฑู ูโุดูุฏ ฺู ูโุดูุฏ. ุฒูุงู ฺฉู ุญููู ุฑูุฏุงุฏ ุงุบูุจ ูุณุฏูุฏ ู ุดูุฏุ ุชุฌุฑุจู ฺฉุงุฑุจุฑ ุดูุง ุฑุถุงุช ุจุฎุด ุจุงู ู ูุงูุฏุ ุจุฑุง ูพุฑุฏุงุฎุชู ุจู ุงู ฺฉู ููุดุชู ุงูุ [node-chaos](https://github.com/i0natan/node-chaos-monkey) (alpha) ฺฉู ุงููุงุน ุงุนูุงู ุขุดูุชู ูุฑุชุจุท ุจุง Node ุฑุง ูุฑุงูู ู ฺฉูุฏ
<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ุงูุฌุง ุฑุงู ฺฏุฑุฒ ูุณุชุ ูุงููู ููุฑู ุจุฏูู ุฑุญู ุจู ุชููุฏ ุดูุง ุถุฑุจู ู ุฒูุฏ

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :clap: ููุงู ุฏุฑุณุช: : Node-chaos ูโุชูุงูุฏ ุงููุงุน ุดูุฎโูุง Node.js ุฑุง ุงุฌุงุฏ ฺฉูุฏุ ุจูุงุจุฑุงู ูโุชูุงูุฏ ูุฒุงู ุงูุนุทุงูโูพุฐุฑ ุจุฑูุงูู ุดูุง ุฏุฑ ุจุฑุงุจุฑ ูุฑุฌ ู ูุฑุฌ ุฑุง ุขุฒูุงุด ฺฉูุฏ.

![alt text](assets/bp-17-yoni-goldberg-chaos-monkey-nodejs.png "Node-chaos can generate all sort of Node.js pranks so you can test how resilience is your app to chaos")

</details>

<br/>

## โช ๏ธ2.7 ุงุฌุชูุงุจ ุงุฒ ุชุฌูุฒุงุช ุชุณุช ุฌูุงู ู ุฏุงููุ ุงุถุงูู ฺฉุฑุฏู ุฏุงุฏู ูุง ุฏุฑ ูุฑ ุขุฒููู

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ุจุง ุชูุฌู ุจู ูุงููู ุทูุง (ฺฏูููู 0)ุ ูุฑ ุชุณุช ุจุงุฏ ูุฌููุนู ุง ุงุฒ ุฑุฏู ูุง DB ุฎูุฏ ุฑุง ุงุถุงูู ฺฉุฑุฏู ู ุฑู ุขู ุนูู ฺฉูุฏ ุชุง ุงุฒ ุฌูุช ุดุฏู ุฌููฺฏุฑ ฺฉูุฏ ู ุจู ุฑุงุญุช ุฏุฑ ููุฑุฏ ุฌุฑุงู ุชุณุช ุงุณุชุฏูุงู ฺฉูุฏ. ุฏุฑ ูุงูุนุ ุงู ุงูุฑ ุงุบูุจ ุชูุณุท ุขุฒูุงุดโฺฉููุฏฺฏุงู ฺฉู ูุจู ุงุฒ ุงุฌุฑุง ุขุฒูุงุดโูุง (ฺฉู ุจู ุนููุงู ยซุชุณุช ูฺฉุณฺุฑยป ูุฒ ุดูุงุฎุชู ูโุดูุฏ) ุฑุง ุจุง ุฏุงุฏูโูุง ุจู ููุธูุฑ ุจูุจูุฏ ุนููฺฉุฑุฏ ูโุฏุงููุฏุ ููุถ ูโุดูุฏ. ุฏุฑ ุญุงู ฺฉู ุนููฺฉุฑุฏ ุฏุฑ ูุงูุน ฺฉ ูฺฏุฑุงู ูุนุชุจุฑ ุงุณุช. ุนููุงูุ ูุฑ ููุฑุฏ ุขุฒูุงุด ุฑุง ุจู ุตุฑุงุญุช ุณูุงุจู DB ููุฑุฏ ูุงุฒ ุฎูุฏ ุฑุง ุงุถุงูู ฺฉูุฏ ู ููุท ุฑู ุขู ุฑฺฉูุฑุฏูุง ุนูู ฺฉูุฏ. ุงฺฏุฑ ุนููฺฉุฑุฏ ุจู ฺฉ ูฺฏุฑุงู ุญุงุช ุชุจุฏู ุดูุฏ - ฺฉ ูุตุงูุญู ูุชูุงุฒู ููฺฉู ุงุณุช ุจู ุดฺฉู ฺฉุงุดุช ุชููุง ูุฌููุนู ุขุฒูุงุดโูุง ุจุงุดุฏ ฺฉู ุฏุงุฏูโูุง ุฑุง ุชุบุฑ ููโุฏููุฏ (ูุซูุงู ุฏุฑุฎูุงุณุชโูุง)
<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ุชุนุฏุงุฏ ฺฉู ุงุฒ ุชุณุช ูุง ุดฺฉุณุช ู ุฎูุฑูุฏุ ุงุณุชูุฑุงุฑ ูุชููู ู ุดูุฏุ ุชู ูุง ุงฺฉููู ุฒูุงู ฺฏุฑุงูุจูุง ุฑุง ุตุฑู ู ฺฉูุฏุ ุขุง ูุง ุจุงฺฏ ุฏุงุฑูุ ุจุงุฏ ุจุฑุฑุณ ฺฉููุ ุงูู ููโุจู ูุธุฑ ูโุฑุณุฏ ุฏู ุชุณุช ุฏุงุฏูโูุง ุงููู ูุดุงุจู ุฑุง ุฌูุด ูโุฏุงุฏูุฏ

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :thumbsdown: ูุซุงู ุถุฏ ุงูฺฏู: ุชุณุชโูุง ูุณุชูู ูุณุชูุฏ ู ุจุฑุง ุชุบุฐู ุฏุงุฏูโูุง DB ุฌูุงู ุจู ฺูุฏ ููุงุจ ุฌูุงู ูุชฺฉ ูุณุชูุฏ.

![](https://img.shields.io/badge/๐ง%20Example%20using%20Mocha-blue.svg "Examples with Mocha")

```javascript
before(async () => {
  //ุงูุฒูุฏู ุณุงุช ูุง ู ุฏุงุฏู ูุง ูุฏุฑุงู ุจู DB ูุง. ุฏุงุฏู ูุง ฺฉุฌุงุณุชุ ุฎุงุฑุฌ ุงุฒ. ุฏุฑ ุจุฑุฎ framework ูุง json ุง ููุงุฌุฑุช ุฎุงุฑุฌ
  await DB.AddSeedDataFromJson('seed.json');
});
it("ููฺฏุงู ุจู ุฑูุฒ ุฑุณุงู ูุงู ุณุงุชุ ุชุฃุฏ ููููุช ุขูุฒ ุฏุฑุงูุช ฺฉูุฏ", async () => {
  //ูู ู ุฏุงูู ฺฉู ูุงู ุณุงุช "portal" ูุฌูุฏ ุฏุงุฑุฏ - ุขู ุฑุง ุฏุฑ ูุงู ูุง seed ุฏุฏู
  const siteToUpdate = await SiteService.getSiteByName("Portal");
  const updateNameResult = await SiteService.changeName(siteToUpdate, "newName");
  expect(updateNameResult).to.be(true);
});
it("ููฺฏุงู ูพุฑุณ ู ุฌู ุจุฑ ุงุณุงุณ ูุงู ุณุงุชุ ุณุงุช ููุงุณุจ ุฑุง ุฏุฑุงูุช ฺฉูุฏ", async () => {
  //ูู ู ุฏุงูู ฺฉู ูุงู ุณุงุช "portal" ูุฌูุฏ ุฏุงุฑุฏ - ุขู ุฑุง ุฏุฑ ูุงู ูุง seed ุฏุฏู
  const siteToCheck = await SiteService.getSiteByName("Portal");
  expect(siteToCheck.name).to.be.equal("Portal"); //ุดฺฉุณุช! ุชุณุช ูุจู ูุงู ุฑุง ุชุบุฑ ุฏูุฏ:[
});

```

<br/>

### :clap: ููุงู ุฏุฑุณุช: ูุง ู ุชูุงูู ุฏุฑ ุขุฒููู ุจูุงููุ ูุฑ ุขุฒููู ุจุฑ ุงุณุงุณ ูุฌููุนู ุฏุงุฏู ูุง ุฎูุฏ ุนูู ู ฺฉูุฏ

```javascript
it("ููฺฏุงู ุจู ุฑูุฒ ุฑุณุงู ูุงู ุณุงุชุ ุชุฃุฏ ููููุช ุขูุฒ ุฏุฑุงูุช ฺฉูุฏ", async () => {
  //ุชุณุช ุงุถุงูู ฺฉุฑุฏู ฺฉ ุฑฺฉูุฑุฏ ุฌุฏุฏ ุฌุฏุฏ ู ุนูู ฺฉุฑุฏู ููุท ุจุฑ ุฑู ุฑฺฉูุฑุฏูุง ุงุณุช
  const siteUnderTest = await SiteService.addSite({
    name: "siteForUpdateTest"
  });
  const updateNameResult = await SiteService.changeName(siteUnderTest, "newName");
  expect(updateNameResult).to.be(true);
});
```

</details>

<br/>

## โช ๏ธ2.8 ฺฉ ุงุณุชุฑุงุชฺ ูพุงฺฉุณุงุฒ ุฏุงุฏู ูุงุถุญ ุงูุชุฎุงุจ ฺฉูุฏ: ุจุนุฏ ุงุฒ ููู (ุชูุตู ู ุดูุฏ) ุง ุจุนุฏ ุงุฒ ูุฑ ฺฉุฏุงู

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ุฒูุงู ฺฉู ุชุณุช ูุง ูพุงฺฏุงู ุฏุงุฏู ุฑุง ุชูุฒ ู ฺฉููุฏุ ูุญูู ูฺฏุงุฑุด ุชุณุช ูุง ุฑุง ุชุนู ู ฺฉูุฏ. ุฏู ฺฏุฒูู ููุงุณุจุ ุชูุฒ ฺฉุฑุฏู ุจุนุฏ ุงุฒ ููู ุขุฒูุงุด ูุง ุฏุฑ ููุงุจู ุชูุฒ ฺฉุฑุฏู ุจุนุฏ ุงุฒ ูุฑ ุขุฒูุงุด ุงุณุช. ุจุง ุงูุชุฎุงุจ ฺฏุฒูู ุฏููุ ุชูุฒ ฺฉุฑุฏู ูพุณ ุงุฒ ูุฑ ุขุฒูุงุด ุฌุฏุงูู ุชูุฒ ุฑุง ุชุถูู ู ฺฉูุฏ ู ูุฒุงุง ุขุฒูุงุด ุฑุงุญุช ุฑุง ุจุฑุง ุชูุณุนู ุฏููุฏู ุงุฌุงุฏ ู ฺฉูุฏ. ูฺ ุฑฺฉูุฑุฏ ุฏฺฏุฑ ููฺฏุงู ุดุฑูุน ุขุฒูุงุด ูุฌูุฏ ูุฏุงุฑุฏุ ู ุชูุงู ูุทูุฆู ุจูุฏ ฺฉู ฺฉุฏุงู ุฏุงุฏู ููุฑุฏ ูพุฑุณุด ูุฑุงุฑ ู ฺฏุฑุฏ ู ุญุช ููฺฉู ุงุณุช ูุณูุณู ุดูุฏ ุฑุฏู ูุง ุฑุง ุฏุฑ ุทูู ุงุฏุนุงูุง ุจุดูุงุฑุฏ. ุงู ุงูุฑ ุจุง ูุนุงุจ ุดุฏุฏ ููุฑุงู ุงุณุช: ููฺฏุงู ุงุฌุฑุง ุฏุฑ ุญุงูุช ฺูุฏ ูุฑุขูุฏุ ุขุฒูุงุดโูุง ุงุญุชูุงูุงู ุจุง ฺฉุฏฺฏุฑ ุชุฏุงุฎู ุฏุงุฑูุฏ. ุฏุฑ ุญุงู ฺฉู process-1 ุฌุฏุงูู ุฑุง ูพุงฺฉ ู ฺฉูุฏุ ุฏุฑ ููุงู ูุญุธู ูพุฑุฏุงุฒุด-2 ุจุฑุง ุฏุงุฏู ูุง ุฌุณุชุฌู ู ฺฉูุฏ ู ุจุง ุดฺฉุณุช ููุงุฌู ู ุดูุฏ (ุฒุฑุง DB ุจู ุทูุฑ ูุงฺฏูุงู ุชูุณุท ูุฑุขูุฏ-1 ุญุฐู ุดุฏู ุงุณุช). ุนูุงูู ุจุฑ ุงูุ ุนุจโุงุจ ุชุณุชโูุง ุดฺฉุณุช ุฎูุฑุฏู ุณุฎุชโุชุฑ ุงุณุช - ุจุงุฒุฏุฏ ุงุฒ DB ูฺ ุฑฺฉูุฑุฏ ุฑุง ูุดุงู ููโุฏูุฏ.

ฺฏุฒูู ุฏูู ุงู ุงุณุช ฺฉู ูพุณ ุงุฒ ุงุชูุงู ุชูุงู ูุงู ูุง ุชุณุช (ุง ุญุช ุฑูุฒุงูู!) ูพุงฺฉุณุงุฒ ฺฉูุฏ. ุงู ุฑูฺฉุฑุฏ ุจู ุงู ูุนู ุงุณุช ฺฉู ููุงู DB ุจุง ุฑฺฉูุฑุฏูุง ููุฌูุฏุ ุชูุงู ุชุณุช ูุง ู ูุฑุขูุฏูุง ุฑุง ุงุฑุงุฆู ู ุฏูุฏ. ุจุฑุง ุฌููฺฏุฑ ุงุฒ ูพุง ฺฏุฐุงุดุชู ุฑู ุงูฺฏุดุชุงู ฺฉุฏฺฏุฑุ ุขุฒููู ูุง ุจุงุฏ ุณูุงุจู ุฎุงุต ุฑุง ฺฉู ุงุถุงูู ฺฉุฑุฏู ุงูุฏ ุงุถุงูู ฺฉุฑุฏู ู ุจุฑ ุงุณุงุณ ุขููุง ุนูู ฺฉููุฏ. ุขุง ุจุงุฏ ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุฑฺฉูุฑุฏ ุงุถุงูู ุดุฏู ุงุณุชุ ูุฑุถ ฺฉูุฏ ูุฒุงุฑุงู ุฑฺฉูุฑุฏ ู ูพุฑุณ ู ุฌู ุฏฺฏุฑ ุจุฑุง ุฑฺฉูุฑุฏูุง ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุจู ุตุฑุงุญุช ุงุถุงูู ุดุฏู ุงูุฏ. ุขุง ุจุงุฏ ุจุฑุฑุณ ฺฉูุฏ ฺฉู ฺฉ ุฑฺฉูุฑุฏ ุญุฐู ุดุฏู ุงุณุชุ ูู ุชูุงู ุฌุฏูู ุฎุงู ุฑุง ูุฑุถ ฺฉุฑุฏุ ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุงู ุฑฺฉูุฑุฏ ุฎุงุต ูุฌูุฏ ูุฏุงุฑุฏ. ุงู ุชฺฉูฺฉ ุฏุณุชุงูุฑุฏูุง ูุฏุฑุชููุฏ ฺฉู ุฑุง ุจู ููุฑุงู ุฏุงุฑุฏ: ุฒูุงู ฺฉู ฺฉ ุชูุณุนูโุฏููุฏู ูโุฎูุงูุฏ ุงุชูุงู ุฑุง ฺฉู ุฑุฎ ุฏุงุฏู ุงุณุช ุจูููุฏ - ุจู ุทูุฑ ุจูู ุฏุฑ ุญุงูุช ฺูุฏ ูุฑุขูุฏ ฺฉุงุฑ ูโฺฉูุฏ - ุฏุงุฏูโูุง ุขูุฌุง ูุณุชูุฏ ู ุญุฐู ููโุดููุฏ. ููฺูู ุดุงูุณ ุงูุชู ุจุงฺฏ ูุง ุฑุง ุงูุฒุงุด ู ุฏูุฏ ุฒุฑุง DB ูพุฑ ุงุฒ ุฑฺฉูุฑุฏ ุงุณุช ู ุจู ุทูุฑ ูุตููุน ุฎุงู ูุณุช. [ุฌุฏูู ููุงุณู ฺฉุงูู ุฑุง ุงูุฌุง ุจุจูุฏ](https://github.com/testjavascript/nodejs-integration-tests-best-practices/blob/master/graphics/db-clean-options.png).
<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ุจุฏูู ุงุณุชุฑุงุชฺ ุจุฑุง ุฌุฏุง ฺฉุฑุฏู ุฑฺฉูุฑุฏูุง ุง ุชูุฒ ฺฉุฑุฏู - ุชุณุช ูุง ุฑู ุงูฺฏุดุชุงู ฺฉุฏฺฏุฑ ูุฑุงุฑ ู ฺฏุฑูุฏ. ุงุณุชูุงุฏู ุงุฒ ุชุฑุงฺฉูุดโูุง ููุท ุจุฑุง DB ุฑุงุจุทูโุง ฺฉุงุฑ ูโฺฉูุฏ ู ุงุญุชูุงูุงู ุฒูุงู ฺฉู ุชุฑุงฺฉูุดโูุง ุฏุฑูู ูุฌูุฏ ุฏุงุฑุฏุ ูพฺุฏู ูโุดูุฏ

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :clap: ุชูุฒ ฺฉุฑุฏู ุจุนุฏ ุงุฒ ุชูุงู ุขุฒูุงุดุงุช ูู ูุฒููุง ุจุนุฏ ุงุฒ ูุฑ ุฏูุฏู. ูุฑฺู ุฏุงุฏูโูุง ุจุดุชุฑ ุฏุฑ ุญู ุงูุฌุงู ุขุฒูุงุดโูุง ุฏุงุดุชู ุจุงุดู - ุจุดุชุฑ ุดุจู ุงูุชุงุฒุงุช ุชููุฏ ุงุณุช

```javascript
  //ุจุนุฏ ุงุฒ ููู ูพุงฺฉุณุงุฒ (ุชูุตู ู ุดูุฏ)
// global-teardown.js
module.exports = async () => {
  // ...
  if (Math.ceil(Math.random() * 10) === 10) {
    await new OrderRepository().cleanup();
  }
};
```

</details>

<br/>

## โช ๏ธ2.9 ุจุง ุงุณุชูุงุฏู ุงุฒ ุฑูฺฏุฑ HTTPุ ุฌุฒุก ุฑุง ุงุฒ ุฌูุงู ุฌุฏุง ฺฉูุฏ

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ูุคููู ุชุญุช ุขุฒูุงุด ุฑุง ุจุง ุฑูฺฏุฑ ูุฑ ุฏุฑุฎูุงุณุช HTTP ุฎุฑูุฌ ู ุงุฑุงุฆู ูพุงุณุฎ ููุฑุฏ ูุธุฑ ุฌุฏุง ฺฉูุฏ ุชุง HTTP API ููฺฉุงุฑ ุขุณุจ ูุจูุฏ. Nock ฺฉ ุงุจุฒุงุฑ ุนุงู ุจุฑุง ุงู ูุงููุฑุช ุงุณุช ุฒุฑุง ฺฉ ูุญู ููุงุณุจ ุจุฑุง ุชุนุฑู ุฑูุชุงุฑ ุฎุฏูุงุช ุฎุงุฑุฌ ุงุฑุงุฆู ู ุฏูุฏ. ุฌุฏุงุณุงุฒ ุจุฑุง ุฌููฺฏุฑ ุงุฒ ููุฒ ู ุนููฺฉุฑุฏ ุขูุณุชู ุถุฑูุฑ ุงุณุชุ ุงูุง ุจุดุชุฑ ุจุฑุง ุดุจูโุณุงุฒ ุณูุงุฑููุง ู ูพุงุณุฎโูุง ูุฎุชูู - ฺฉ ุดุจูโุณุงุฒ ูพุฑูุงุฒ ุฎูุจ ุจู ูุนูุง ุฑูฺฏโุขูุฒ ุขุณูุงู ุขุจ ุดูุงู ูุณุชุ ุจูฺฉู ุงุฌุงุฏ ุทููุงู ู ูุฑุฌโููุฑุฌ ุงูู ุงุณุช. ุงู ุฏุฑ ูุนูุงุฑ Microservice ฺฉู ุฏุฑ ุขู ุชูุฑฺฉุฒ ููุดู ุจุงุฏ ุจุฑ ุฑู ฺฉ ุฌุฒุก ูุงุญุฏ ุจุฏูู ุฏุฑฺฏุฑ ฺฉุฑุฏู ุจูู ุฌูุงู ุจุงุดุฏุ ุชููุช ุดุฏู ุงุณุช. ุงฺฏุฑฺู ู ุชูุงู ุฑูุชุงุฑ ุณุฑูุณ ุฎุงุฑุฌ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุชุณุช ุฏูุจู (ูุณุฎุฑู) ุดุจู ุณุงุฒ ฺฉุฑุฏุ ุงูุง ุชุฑุฌุญุงู ฺฉุฏ ูุณุชูุฑ ุดุฏู ุฑุง ููุณ ูฺฉูุฏ ู ุฏุฑ ุณุทุญ ุดุจฺฉู ุนูู ฺฉูุฏ ุชุง ุชุณุช ูุง ุฑุง ุฌุนุจู ุณุงู ุฎุงูุต ูฺฏู ุฏุงุฑุฏ. ููุทู ุถุนู ุฌุฏุงุณุงุฒ ุนุฏู ุชุดุฎุต ุฒูุงู ฺฉู ูุคููู ููฺฉุงุฑ ุชุบุฑ ู ฺฉูุฏ ู ูุชูุฌู ูุดุฏู ุณูุก ุชูุงูู ุจู ุฏู ุณุฑูุณ ุงุณุช - ูุทูุฆู ุดูุฏ ฺฉู ุจุง ุงุณุชูุงุฏู ุงุฒ ฺูุฏ ุขุฒูุงุด ูุฑุงุฑุฏุงุฏ ุง E2E ุงู ุฑุง ุฌุจุฑุงู ฺฉูุฏ.
<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ุจุฑุฎ ุงุฒ ุณุฑูุณโูุง ฺฉ ูุณุฎู ุฌุนู ุฑุง ุงุฑุงุฆู ูโฺฉููุฏ ฺฉู ูโุชูุงูุฏ ุชูุณุท ุชูุงุณโฺฏุฑูุฏู ุจู ุตูุฑุช ูุญูุ ูุนูููุงู ุจุง ุงุณุชูุงุฏู ุงุฒ Docker ุงุฌุฑุง ุดูุฏ. ุจุฑุฎ ุงุฒ ุณุฑูุณโูุง ูุญุท ยซsandboxยป ุฑุง ุงุฑุงุฆู ูโฺฉููุฏุ ุจูุงุจุฑุงู ุณุฑูุณ ูุงูุน ุถุฑุจู ูโุฎูุฑุฏ ุงูุง ูฺ ูุฒูู ุง ุนูุงุฑุถ ุฌุงูุจ ุงุฌุงุฏ ููโุดูุฏ - ุงู ฺฉุงุฑ ุตุฏุง ุฑุงูโุงูุฏุงุฒ ุณุฑูุณ ุดุฎุต ุซุงูุซ ุฑุง ฺฉุงูุด ูโุฏูุฏุ ุงูุง ุงูฺฉุงู ุดุจูโุณุงุฒ ุณูุงุฑููุง ุฑุง ูุฒ ูุฑุงูู ููโฺฉูุฏ.

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :clap: ุฌููฺฏุฑ ุงุฒ ุชูุงุณ ุดุจฺฉู ุจุง ุงุฌุฒุง ุฎุงุฑุฌ ุงูฺฉุงู ุดุจู ุณุงุฒ ุณูุงุฑููุง ู ุจู ุญุฏุงูู ุฑุณุงูุฏู ููุฒ ุฑุง ูุฑุงูู ู ฺฉูุฏ

```javascript
// ุฏุฑุฎูุงุณุช ูุง API ูุง ุดุฎุต ุซุงูุซ ุฑุง ุฑูฺฏุฑ ฺฉูุฏ ู ฺฉ ูพุงุณุฎ ุงุฒ ูพุด ุชุนุฑู ุดุฏู ุฑุง ุจุฑฺฏุฑุฏุงูุฏ
beforeEach(() => {
  nock('http://localhost/user/').get(`/1`).reply(200, {
    id: 1,
    name: 'John',
  });
});
```

</details>

## โช ๏ธ2.10 ุทุฑุญ ูพุงุณุฎ ุฑุง ุจุดุชุฑ ุฏุฑ ููุงูุน ฺฉู ููุฏูุง ุชููุฏ ุฎูุฏฺฉุงุฑ ูุฌูุฏ ุฏุงุฑุฏุ ุขุฒูุงุด ฺฉูุฏ

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ููฺฏุงู ฺฉู ุงุฏุนุง ฺฉุฑุฏู ุจุฑุง ุฏุงุฏู ูุง ุฎุงุต ุบุฑููฺฉู ุงุณุชุ ูุฌูุฏ ู ุงููุงุน ููุฏ ุงุฌุจุงุฑ ุฑุง ุจุฑุฑุณ ฺฉูุฏ. ฺฏุงู ุงููุงุชุ ูพุงุณุฎ ุญุงู ููุฏูุง ููู ุจุง ุฏุงุฏู ูุง ูพูุง ุงุณุช ฺฉู ูู ุชูุงู ุขููุง ุฑุง ููฺฏุงู ููุดุชู ุขุฒููู ูพุด ุจู ฺฉุฑุฏุ ูุงููุฏ ุชุงุฑุฎ ูุง ู ุงูุฒุงุด ุงุนุฏุงุฏ. ุงฺฏุฑ ูุฑุงุฑุฏุงุฏ API ูุนุฏู ู ุฏูุฏ ฺฉู ุงู ููุฏูุง ูพูฺ ูุฎูุงููุฏ ุจูุฏ ู ุงููุงุน ููุงุณุจ ุฑุง ุฏุฑ ุฎูุฏ ุฏุงุฑูุฏุ ุขุฒูุงุด ุขู ุถุฑูุฑ ุงุณุช. ุงฺฉุซุฑ ฺฉุชุงุจุฎุงูู ูุง ุงุฏุนุง ุงุฒ ุงููุงุน ุจุฑุฑุณ ูพุดุชุจุงู ู ฺฉููุฏ. ุงฺฏุฑ ูพุงุณุฎ ฺฉูฺฺฉ ุงุณุชุ ุฏุงุฏู ูุง ุจุฑฺฏุดุช ุฑุง ุจุฑุฑุณ ฺฉูุฏ ู ุจุง ูู ุฏุฑ ููุงู ุงุฏุนุง ุชุงูพ ฺฉูุฏ (ุจู ูุซุงู ฺฉุฏ ูุฑุงุฌุนู ฺฉูุฏ). ฺฉ ฺฏุฒูู ุฏฺฏุฑ ุงู ุงุณุช ฺฉู ฺฉู ูพุงุณุฎ ุฑุง ุฏุฑ ุจุฑุงุจุฑ ฺฉ ุณูุฏ OpenAPI (Swagger) ุชุฃุฏ ฺฉูุฏ. ุงฺฉุซุฑ ุงุฌุฑุงฺฉููุฏฺฏุงู ุขุฒูุงุด ุฏุงุฑุง ูพุณููุฏูุง ุฌุงูุนู ูุณุชูุฏ ฺฉู ูพุงุณุฎ ูุง API ุฑุง ุฏุฑ ุจุฑุงุจุฑ ุงุณูุงุฏ ุขููุง ุชุฃุฏ ู ฺฉูุฏ.


<br/>

โ **ุฏุฑ ุบุฑ ุงู ุตูุฑุช:** ุงฺฏุฑฺู ุชูุงุณโฺฏุฑูุฏู ฺฉุฏ/API ุจู ููุฏูุง ุจุง ุฏุงุฏูโูุง ูพูุง (ูุซูุงู ุดูุงุณูุ ุชุงุฑุฎ) ูุชฺฉ ุงุณุชุ ุงูุง ุฏุฑ ุนูุถ ููโุขุฏ ู ูุฑุงุฑุฏุงุฏ ุฑุง ุฒุฑ ูพุง ููโฺฏุฐุงุฑุฏ.

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :clap: ุจุง ุจุงู ุงูฺฉู ููุฏูุง ุจุง ููุฏุงุฑ ูพูุง ูุฌูุฏ ุฏุงุฑูุฏ ู ููุน ููุงุณุจ ุฏุงุฑูุฏ

```javascript
  test('ููฺฏุงู ุงุถุงูู ฺฉุฑุฏู ฺฉ ุณูุงุฑุด ูุนุชุจุฑ ุฌุฏุฏุ ุณูพุณ ุจุงุฏ ุจุง 200 ูพุงุณุฎ ุชุฃุฏ ูุฌุฏุฏ ุฏุฑุงูุช ฺฉูุฏ', async () => {
  // ...
  //ููุงุณู ฺฉุฑุฏู
  expect(receivedAPIResponse).toMatchObject({
    status: 200,
    data: {
      id: expect.any(Number), // ูุฑ ุนุฏุฏ ุงู ุชุณุช ุฑุง ุจุฑุขูุฑุฏู ู ฺฉูุฏ
      mode: 'approved',
    },
  });
});
```

</details>

<br/>

## โช ๏ธ2.12 ููุงุฑุฏ ฺฏูุดู ู ุขุดูุจ ุงุฏุบุงู ูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ููฺฏุงู ุจุฑุฑุณ ุงุฏุบุงู ูุงุ ุงุฒ ูุณุฑูุง ุดุงุฏ ู ุบู ุงูฺฏุฒ ูุฑุงุชุฑ ุจุฑูุฏ. ูู ุชููุง ูพุงุณุฎ ูุง ุฎุทุง (ุจู ุนููุงู ูุซุงูุ ุฎุทุง HTTP 500) ุจูฺฉู ูุงููุฌุงุฑ ูุง ุณุทุญ ุดุจฺฉู ูุงููุฏ ูพุงุณุฎ ูุง ุขูุณุชู ู ุจู ูพุงุงู ุฑุณุฏู ุฑุง ุจุฑุฑุณ ฺฉูุฏ. ุงู ุซุงุจุช ูโฺฉูุฏ ฺฉู ฺฉุฏ ุงูุนุทุงูโูพุฐุฑ ุงุณุช ู ูโุชูุงูุฏ ุณูุงุฑููุง ูุฎุชูู ุดุจฺฉู ุฑุง ูุฏุฑุช ฺฉูุฏุ ูุงููุฏ ุงูุชุฎุงุจ ูุณุฑ ุฏุฑุณุช ูพุณ ุงุฒ ฺฉ ุจุงุฒู ุฒูุงูุ ูฺ ุดุฑุงุท ูุณุงุจูู ุดฺฉููุฏูโุง ูุฏุงุฑุฏุ ู ุญุงู ฺฉ ูุทุน ฺฉููุฏู ูุฏุงุฑ ุจุฑุง ุชูุงุดโูุง ูุฌุฏุฏ ุงุณุช. ุงุจุฒุงุฑูุง ุฑูฺฏุฑ ูุนุชุจุฑ ุจู ุฑุงุญุช ู ุชูุงููุฏ ุฑูุชุงุฑูุง ูุฎุชูู ุดุจฺฉู ูุงููุฏ ุณุฑูุณ ูุง ฺฏุฌ ฺฉููุฏู ุฑุง ฺฉู ฺฏูฺฏุงู ุจุง ุดฺฉุณุช ููุงุฌู ู ุดููุฏ ุดุจู ุณุงุฒ ฺฉููุฏ. ุญุช ูโุชูุงูุฏ ูุชูุฌู ุดูุฏ ฺฉู ฺู ุฒูุงู ููุฏุงุฑ ุฒูุงูโุจูุฏ ูพุดโูุฑุถ ูุดุชุฑ HTTP ุงุฒ ุฒูุงู ูพุงุณุฎ ุดุจูโุณุงุฒโุดุฏู ุจุดุชุฑ ุงุณุช ู ููุฑุงู ุจุฏูู ุงูุชุธุงุฑุ ฺฉ ุงุณุชุซูุง ูููุช ุฒูุงู ุงุฌุงุฏ ฺฉูุฏ.


<br/>

โ **ุฏุฑ ุนุฑ ุงู ุตูุฑุช:** ุชูุงู ุชุณุชโูุง ุดูุง ุจุง ููููุช ุงูุฌุงู ูโุดูุฏุ ุงู ููุท ุชููุฏ ุงุณุช ฺฉู ุงุฒ ฺฉุงุฑ ูโุงูุชุฏ ุง ููุช ุดุฎุต ุซุงูุซ ูพุงุณุฎโูุง ุงุณุชุซูุง ุงุฑุณุงู ูโฺฉูุฏุ ุฎุทุงูุง ุฑุง ุจู ุฏุฑุณุช ฺฏุฒุงุฑุด ููโฺฉูุฏ.

<br/>

<details><summary>โ <b>ููููู ฺฉุฏ</b></summary>

<br/>

### :clap:  ุงุทููุงู ุงุฒ ุงูฺฉู ุฏุฑ ุฎุฑุงุจ ุดุจฺฉูุ ูุทุน ฺฉููุฏู ูุฏุงุฑ ู ุชูุงูุฏ ุฑูุฒ ุฑุง ูุฌุงุช ุฏูุฏ

```javascript
  test('ููฺฏุงู ฺฉู ุณุฑูุณ ฺฉุงุฑุจุฑุงู ฺฉ ุจุงุฑ ุจุง 503 ูพุงุณุฎ ู ุฏูุฏ ู ูฺฉุงูุณู ุงูุชุญุงู ูุฌุฏุฏ ุงุนูุงู ู ุดูุฏุ ุณูุงุฑุด ุจุง ููููุช ุงุถุงูู ู ุดูุฏ', async () => {
  //ููุฏุงุฑ ุฏู ฺฉุฑุฏู
  nock.removeInterceptor(userServiceNock.interceptors[0])
  nock('http://localhost/user/')
    .get('/1')
    .reply(503, undefined, { 'Retry-After': 100 });
  nock('http://localhost/user/')
    .get('/1')
    .reply(200);
  const orderToAdd = {
    userId: 1,
    productId: 2,
    mode: 'approved',
  };

  //ุงุฌุฑุง ฺฉุฑุฏู
  const response = await axiosAPIClient.post('/order', orderToAdd);

  //ููุงุณู ฺฉุฑุฏู
  expect(response.status).toBe(200);
});
```

</details>

<br/>


## โช ๏ธ2.13 ูพูุฌ ูุชุฌู ุจุงูููู ุฑุง ุชุณุช ฺฉูุฏ

:white_check_mark: **ุงูุฌุงู ุฏุงุฏู:** ููฺฏุงู ุจุฑูุงูู ุฑุฒ ุขุฒูุงุดุงุช ุฎูุฏุ ูพูุฌ ุฎุฑูุฌ ุฌุฑุงู ูุนููู ุฑุง ูพูุดุด ุฏูุฏ. ููฺฏุงู ฺฉู ุขุฒูุงุด ุดูุง ุฏุฑ ุญุงู ุงูุฌุงู ุจุฑุฎ ุงูุฏุงูุงุช ุงุณุช (ุจู ุนููุงู ูุซุงูุ ูุฑุงุฎูุงู API)ุ ูุงฺฉูุด ุฏุฑ ุญุงู ุฑุฎ ุฏุงุฏู ุงุณุชุ ฺุฒ ูุนูุงุฏุงุฑ ุฑุฎ ู ุฏูุฏ ู ูุงุฒ ุจู ุขุฒูุงุด ุฏุงุฑุฏ. ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุง ุจู ูุญูู ฺฉุงุฑ ฺฉุฑุฏู ุงููุช ูู ุฏูู. ุชูุฑฺฉุฒ ูุง ุฑู ูุชุงุฌ ุงุณุชุ ฺุฒูุง ฺฉู ุงุฒ ุจุฑูู ูุงุจู ุชูุฌู ูุณุชูุฏ ู ููฺฉู ุงุณุช ุจุฑ ฺฉุงุฑุจุฑ ุชุฃุซุฑ ุจฺฏุฐุงุฑูุฏ. ุงู ูพุงูุฏูุง/ูุงฺฉูุด ูุง ุฑุง ู ุชูุงู ุฏุฑ 5 ุฏุณุชู ูุฑุงุฑ ุฏุงุฏ:

โข ูุชุญู - ุชุณุช ฺฉ ุนูู ุฑุง ูุฑุงุฎูุงู ู ฺฉูุฏ (ุจู ุนููุงู ูุซุงูุ ุงุฒ ุทุฑู API) ู ฺฉ ูพุงุณุฎ ุฏุฑุงูุช ู ฺฉูุฏ. ุงฺฉููู ุจู ุจุฑุฑุณ ุตุญุช ุฏุงุฏู ูุง ูพุงุณุฎุ ุทุฑุญ ู ูุถุนุช HTTP ู ูพุฑุฏุงุฒุฏ

โข state ุฌุฏุฏ - ูพุณ ุงุฒ ูุฑุงุฎูุงู ฺฉ ุนููุ ุจุฑุฎ ุงุฒ ุฏุงุฏูโูุง **ุฏุฑ ุฏุณุชุฑุณ ุนููู** ุงุญุชูุงูุงู ุงุตูุงุญ ูโุดููุฏ

โข ุชูุงุณ ูุง ุฏุงุฎู - ูพุณ ุงุฒ ูุฑุงุฎูุงู ฺฉ ุนููุ ุจุฑูุงูู ููฺฉู ุงุณุช ฺฉ ูุคููู ุฎุงุฑุฌ ุฑุง ุงุฒ ุทุฑู HTTP ุง ูุฑ ุงูุชูุงู ุฏฺฏุฑ ูุฑุงุฎูุงู ฺฉูุฏ. ุจู ุนููุงู ูุซุงูุ ุชูุงุณ ุจุฑุง ุงุฑุณุงู ูพุงูฺฉุ ุงูู ุง ุดุงุฑฺ ฺฉุงุฑุช ุงุนุชุจุงุฑ

โข ุตู ุงุฒ ูพุงู ูุง - ูุชุฌู ฺฉ ุฌุฑุงู ููฺฉู ุงุณุช ฺฉ ูพุงู ุฏุฑ ฺฉ ุตู ุจุงุดุฏ

โข ูุงุจูุช ูุดุงูุฏู - ุจุฑุฎ ุงุฒ ฺุฒูุง ูุงููุฏ ุฎุทุงูุง ุง ุฑูุฏุงุฏูุง ุชุฌุงุฑ ูุงุจู ุชูุฌู ุจุงุฏ ูุธุงุฑุช ุดููุฏ. ููฺฏุงู ฺฉู ฺฉ ุชุฑุงฺฉูุด ุจุง ุดฺฉุณุช ููุงุฌู ู ุดูุฏุ ูู ุชููุง ูุง ุงูุชุธุงุฑ ูพุงุณุฎ ููุงุณุจ ุฑุง ุฏุงุฑูุ ุจูฺฉู ูุฏุฑุช ุตุญุญ ุฎุทุง ู ุซุจุช/ุณูุฌู ูุง ููุงุณุจ ุฑุง ูุฒ ุงูุชุธุงุฑ ุฏุงุฑู. ุงู ุงุทูุงุนุงุช ูุณุชููุงู ุจู ฺฉ ฺฉุงุฑุจุฑ ุจุณุงุฑ ููู ู ุฑูุฏ - ฺฉุงุฑุจุฑ ops (ุนู ุชููุฏ SRE/admin)


<br/><br/>

# Section 3๏ธโฃ: Frontend Testing

## โช ๏ธ 3.1 Separate UI from functionality

:white_check_mark: **Do:** When focusing on testing component logic, UI details become a noise that should be extracted, so your tests can focus on pure data. Practically, extract the desired data from the markup in an abstract way that is not too coupled to the graphic implementation, assert only on pure data (vs HTML/CSS graphic details) and disable animations that slow down. You might get tempted to avoid rendering and test only the back part of the UI (e.g. services, actions, store) but this will result in fictional tests that don't resemble the reality and won't reveal cases where the right data doesn't even arrive in the UI

<br/>

โ **Otherwise:** The pure calculated data of your test might be ready in 10ms, but then the whole test will last 500ms (100 tests = 1 min) due to some fancy and irrelevant animation

<br/>

<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :clap: Doing It Right Example: Separating out the UI details

![](https://img.shields.io/badge/๐ง%20Example%20using%20React-blue.svg "Examples with React") ![](https://img.shields.io/badge/๐ง%20Example%20using%20React%20Testing%20Library-blue.svg "Examples with react-testing-library")

```javascript
test("When users-list is flagged to show only VIP, should display only VIP members", () => {
  // Arrange
  const allUsers = [{ id: 1, name: "Yoni Goldberg", vip: false }, { id: 2, name: "John Doe", vip: true }];

  // Act
  const { getAllByTestId } = render(<UsersList users={allUsers} showOnlyVIP={true} />);

  // Assert - Extract the data from the UI first
  const allRenderedUsers = getAllByTestId("user").map(uiElement => uiElement.textContent);
  const allRealVIPUsers = allUsers.filter(user => user.vip).map(user => user.name);
  expect(allRenderedUsers).toEqual(allRealVIPUsers); //compare data with data, no UI here
});
```

<br/>

### :thumbsdown: Anti-Pattern Example: Assertion mix UI details and data

```javascript
test("When flagging to show only VIP, should display only VIP members", () => {
  // Arrange
  const allUsers = [{ id: 1, name: "Yoni Goldberg", vip: false }, { id: 2, name: "John Doe", vip: true }];

  // Act
  const { getAllByTestId } = render(<UsersList users={allUsers} showOnlyVIP={true} />);

  // Assert - Mix UI & data in assertion
  expect(getAllByTestId("user")).toEqual('[<li data-test-id="user">John Doe</li>]');
});
```

</details>

<br/><br/>

## โช ๏ธ 3.2 Query HTML elements based on attributes that are unlikely to change

:white_check_mark: **Do:** Query HTML elements based on attributes that are likely to survive graphic changes unlike CSS selectors and like form labels. If the designated element doesn't have such attributes, create a dedicated test attribute like 'test-id-submit-button'. Going this route not only ensures that your functional/logic tests never break because of look & feel changes but also it becomes clear to the entire team that this element and attribute are utilized by tests and shouldn't get removed

<br/>

โ **Otherwise:** You want to test the login functionality that spans many components, logic and services, everything is set up perfectly - stubs, spies, Ajax calls are isolated. All seems perfect. Then the test fails because the designer changed the div CSS class from 'thick-border' to 'thin-border'

<br/>

<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :clap: Doing It Right Example: Querying an element using a dedicated attribute for testing

![](https://img.shields.io/badge/๐ง%20Example%20using%20React-blue.svg "Examples with React")

```html
// the markup code (part of React component)
<h3>
  <Badge pill className="fixed_badge" variant="dark">
    <span data-test-id="errorsLabel">{value}</span>
    <!-- note the attribute data-test-id -->
  </Badge>
</h3>
```

```javascript
// this example is using react-testing-library
test("Whenever no data is passed to metric, show 0 as default", () => {
  // Arrange
  const metricValue = undefined;

  // Act
  const { getByTestId } = render(<dashboardMetric value={undefined} />);

  expect(getByTestId("errorsLabel").text()).toBe("0");
});
```

<br/>

### :thumbsdown: Anti-Pattern Example: Relying on CSS attributes

```html
<!-- the markup code (part of React component) -->
<span id="metric" className="d-flex-column">{value}</span>
<!-- what if the designer changes the classs? -->
```

```javascript
// this exammple is using enzyme
test("Whenever no data is passed, error metric shows zero", () => {
  // ...

  expect(wrapper.find("[className='d-flex-column']").text()).toBe("0");
});
```

</details>

<br/>

## โช ๏ธ 3.3 Whenever possible, test with a realistic and fully rendered component

:white_check_mark: **Do:** Whenever reasonably sized, test your component from outside like your users do, fully render the UI, act on it and assert that the rendered UI behaves as expected. Avoid all sort of mocking, partial and shallow rendering - this approach might result in untrapped bugs due to lack of details and harden the maintenance as the tests mess with the internals (see bullet ['Favour blackbox testing'](https://github.com/goldbergyoni/javascript-testing-best-practices#-%EF%B8%8F-14-stick-to-black-box-testing-test-only-public-methods)). If one of the child components is significantly slowing down (e.g. animation) or complicating the setup - consider explicitly replacing it with a fake

With all that said, a word of caution is in order: this technique works for small/medium components that pack a reasonable size of child components. Fully rendering a component with too many children will make it hard to reason about test failures (root cause analysis) and might get too slow. In such cases, write only a few tests against that fat parent component and more tests against its children

<br/>

โ **Otherwise:** When poking into a component's internal by invoking its private methods, and checking the inner state - you would have to refactor all tests when refactoring the components implementation. Do you really have a capacity for this level of maintenance?

<br/>

<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :clap: Doing It Right Example: Working realistically with a fully rendered component

![](https://img.shields.io/badge/๐ง%20Example%20using%20React-blue.svg "Examples with React") ![](https://img.shields.io/badge/๐ง%20Example%20using%20Enzyme-blue.svg "Examples with Enzyme")

```javascript
class Calendar extends React.Component {
  static defaultProps = { showFilters: false };

  render() {
    return (
      <div>
        A filters panel with a button to hide/show filters
        <FiltersPanel showFilter={showFilters} title="Choose Filters" />
      </div>
    );
  }
}

//Examples use React & Enzyme
test("Realistic approach: When clicked to show filters, filters are displayed", () => {
  // Arrange
  const wrapper = mount(<Calendar showFilters={false} />);

  // Act
  wrapper.find("button").simulate("click");

  // Assert
  expect(wrapper.text().includes("Choose Filter"));
  // This is how the user will approach this element: by text
});
```

### :thumbsdown: Anti-Pattern Example: Mocking the reality with shallow rendering

```javascript
test("Shallow/mocked approach: When clicked to show filters, filters are displayed", () => {
  // Arrange
  const wrapper = shallow(<Calendar showFilters={false} title="Choose Filter" />);

  // Act
  wrapper
    .find("filtersPanel")
    .instance()
    .showFilters();
  // Tap into the internals, bypass the UI and invoke a method. White-box approach

  // Assert
  expect(wrapper.find("Filter").props()).toEqual({ title: "Choose Filter" });
  // what if we change the prop name or don't pass anything relevant?
});
```

</details>

<br/>

## โช ๏ธ 3.4 Don't sleep, use frameworks built-in support for async events. Also try to speed things up

:white_check_mark: **Do:** In many cases, the unit under test completion time is just unknown (e.g. animation suspends element appearance) - in that case, avoid sleeping (e.g. setTimeOut) and prefer more deterministic methods that most platforms provide. Some libraries allows awaiting on operations (e.g. [Cypress cy.request('url')](https://docs.cypress.io/guides/references/best-practices.html#Unnecessary-Waiting)), other provide API for waiting like [@testing-library/dom method wait(expect(element))](https://testing-library.com/docs/guide-disappearance). Sometimes a more elegant way is to stub the slow resource, like API for example, and then once the response moment becomes deterministic the component can be explicitly re-rendered. When depending upon some external component that sleeps, it might turn useful to [hurry-up the clock](https://jestjs.io/docs/en/timer-mocks). Sleeping is a pattern to avoid because it forces your test to be slow or risky (when waiting for a too short period). Whenever sleeping and polling is inevitable and there's no support from the testing framework, some npm libraries like [wait-for-expect](https://www.npmjs.com/package/wait-for-expect) can help with a semi-deterministic solution
<br/>

โ **Otherwise:** When sleeping for a long time, tests will be an order of magnitude slower. When trying to sleep for small numbers, test will fail when the unit under test didn't respond in a timely fashion. So it boils down to a trade-off between flakiness and bad performance

<br/>

<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :clap: Doing It Right Example: E2E API that resolves only when the async operations is done (Cypress)

![](https://img.shields.io/badge/๐จ%20Example%20using%20Cypress-blue.svg "Using Cypress to illustrate the idea")
![](https://img.shields.io/badge/๐ง%20Example%20using%20React%20Testing%20Library-blue.svg "Examples with react-testing-library")

```javascript
// using Cypress
cy.get("#show-products").click(); // navigate
cy.wait("@products"); // wait for route to appear
// this line will get executed only when the route is ready
```

### :clap: Doing It Right Example: Testing library that waits for DOM elements

```javascript
// @testing-library/dom
test("movie title appears", async () => {
  // element is initially not present...

  // wait for appearance
  await wait(() => {
    expect(getByText("the lion king")).toBeInTheDocument();
  });

  // wait for appearance and return the element
  const movie = await waitForElement(() => getByText("the lion king"));
});
```

### :thumbsdown: Anti-Pattern Example: custom sleep code

```javascript
test("movie title appears", async () => {
  // element is initially not present...

  // custom wait logic (caution: simplistic, no timeout)
  const interval = setInterval(() => {
    const found = getByText("the lion king");
    if (found) {
      clearInterval(interval);
      expect(getByText("the lion king")).toBeInTheDocument();
    }
  }, 100);

  // wait for appearance and return the element
  const movie = await waitForElement(() => getByText("the lion king"));
});
```

</details>

<br/>

## โช ๏ธ 3.5 Watch how the content is served over the network

![](https://img.shields.io/badge/๐ง%20Example%20using%20Google%20LightHouse-blue.svg "Examples with Lighthouse")

โ **Do:** Apply some active monitor that ensures the page load under real network is optimized - this includes any UX concern like slow page load or un-minified bundle. The inspection tools market is no short: basic tools like [pingdom](https://www.pingdom.com/), AWS CloudWatch, [gcp StackDriver](https://cloud.google.com/monitoring/uptime-checks/) can be easily configured to watch whether the server is alive and response under a reasonable SLA. This only scratches the surface of what might get wrong, hence it's preferable to opt for tools that specialize in frontend (e.g. [lighthouse](https://developers.google.com/web/tools/lighthouse/), [pagespeed](https://developers.google.com/speed/pagespeed/insights/)) and perform richer analysis. The focus should be on symptoms, metrics that directly affect the UX, like page load time, [meaningful paint](https://scotch.io/courses/10-web-performance-audit-tips-for-your-next-billion-users-in-2018/fmp-first-meaningful-paint), [time until the page gets interactive (TTI)](https://calibreapp.com/blog/time-to-interactive/). On top of that, one may also watch for technical causes like ensuring the content is compressed, time to the first byte, optimize images, ensuring reasonable DOM size, SSL and many others. It's advisable to have these rich monitors both during development, as part of the CI and most important - 24x7 over the production's servers/CDN

<br/>

โ **Otherwise:** It must be disappointing to realize that after such great care for crafting a UI, 100% functional tests passing and sophisticated bundling - the UX is horrible and slow due to CDN misconfiguration

<br/>

<details><summary>โ <b>Code Examples</b></summary>

### :clap: Doing It Right Example: Lighthouse page load inspection report

![](/assets/lighthouse2.png "Lighthouse page load inspection report")

</details>

<br/>

## โช ๏ธ 3.6 Stub flaky and slow resources like backend APIs

:white_check_mark: **Do:** When coding your mainstream tests (not E2E tests), avoid involving any resource that is beyond your responsibility and control like backend API and use stubs instead (i.e. test double). Practically, instead of real network calls to APIs, use some test double library (like [Sinon](https://sinonjs.org/), [Test doubles](https://www.npmjs.com/package/testdouble), etc) for stubbing the API response. The main benefit is preventing flakiness - testing or staging APIs by definition are not highly stable and from time to time will fail your tests although YOUR component behaves just fine (production env was not meant for testing and it usually throttles requests). Doing this will allow simulating various API behavior that should drive your component behavior as when no data was found or the case when API throws an error. Last but not least, network calls will greatly slow down the tests

<br/>

โ **Otherwise:** The average test runs no longer than few ms, a typical API call last 100ms>, this makes each test ~20x slower

<br/>

<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :clap: Doing It Right Example: Stubbing or intercepting API calls

![](https://img.shields.io/badge/๐ง%20Example%20using%20React-blue.svg "Examples with React") ![](https://img.shields.io/badge/๐ง%20Example%20using%20React%20Testing%20Library-blue.svg "Examples with react-testing-library")

```javascript
// unit under test
export default function ProductsList() {
  const [products, setProducts] = useState(false);

  const fetchProducts = async () => {
    const products = await axios.get("api/products");
    setProducts(products);
  };

  useEffect(() => {
    fetchProducts();
  }, []);

  return products ? <div>{products}</div> : <div data-test-id="no-products-message">No products</div>;
}

// test
test("When no products exist, show the appropriate message", () => {
  // Arrange
  nock("api")
    .get(`/products`)
    .reply(404);

  // Act
  const { getByTestId } = render(<ProductsList />);

  // Assert
  expect(getByTestId("no-products-message")).toBeTruthy();
});
```

</details>

<br/>

## โช ๏ธ 3.7 Have very few end-to-end tests that spans the whole system

:white_check_mark: **Do:** Although E2E (end-to-end) usually means UI-only testing with a real browser (See [bullet 3.6](https://github.com/goldbergyoni/javascript-testing-best-practices#-%EF%B8%8F-36-stub-flaky-and-slow-resources-like-backend-apis)), for other they mean tests that stretch the entire system including the real backend. The latter type of tests is highly valuable as they cover integration bugs between frontend and backend that might happen due to a wrong understanding of the exchange schema. They are also an efficient method to discover backend-to-backend integration issues (e.g. Microservice A sends the wrong message to Microservice B) and even to detect deployment failures - there are no backend frameworks for E2E testing that are as friendly and mature as UI frameworks like [Cypress](https://www.cypress.io/) and [Puppeteer](https://github.com/GoogleChrome/puppeteer). The downside of such tests is the high cost of configuring an environment with so many components, and mostly their brittleness - given 50 microservices, even if one fails then the entire E2E just failed. For that reason, we should use this technique sparingly and probably have 1-10 of those and no more. That said, even a small number of E2E tests are likely to catch the type of issues they are targeted for - deployment & integration faults. It's advisable to run those over a production-like staging environment

<br/>

โ **Otherwise:** UI might invest much in testing its functionality only to realizes very late that the backend returned payload (the data schema the UI has to work with) is very different than expected

<br/>

## โช ๏ธ 3.8 Speed-up E2E tests by reusing login credentials

:white_check_mark: **Do:** In E2E tests that involve a real backend and rely on a valid user token for API calls, it doesn't payoff to isolate the test to a level where a user is created and logged-in in every request. Instead, login only once before the tests execution start (i.e. before-all hook), save the token in some local storage and reuse it across requests. This seem to violate one of the core testing principle - keep the test autonomous without resources coupling. While this is a valid worry, in E2E tests performance is a key concern and creating 1-3 API requests before starting each individual tests might lead to horrible execution time. Reusing credentials doesn't mean the tests have to act on the same user records - if relying on user records (e.g. test user payments history) than make sure to generate those records as part of the test and avoid sharing their existence with other tests. Also remember that the backend can be faked - if your tests are focused on the frontend it might be better to isolate it and stub the backend API (see [bullet 3.6](https://github.com/goldbergyoni/javascript-testing-best-practices#-%EF%B8%8F-36-stub-flaky-and-slow-resources-like-backend-apis)).

<br/>

โ **Otherwise:** Given 200 test cases and assuming login=100ms = 20 seconds only for logging-in again and again

<br/>

<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :clap: Doing It Right Example: Logging-in before-all and not before-each

![](https://img.shields.io/badge/๐จ%20Example%20using%20Cypress-blue.svg "Using Cypress to illustrate the idea")

```javascript
let authenticationToken;

// happens before ALL tests run
before(() => {
  cy.request('POST', 'http://localhost:3000/login', {
    username: Cypress.env('username'),
    password: Cypress.env('password'),
  })
  .its('body')
  .then((responseFromLogin) => {
    authenticationToken = responseFromLogin.token;
  })
})

// happens before EACH test
beforeEach(setUser => {
  cy.visit('/home', () => {
    onBeforeLoad (win => {
      win.localStorage.setItem('token', JSON.stringify(authenticationToken))
    })
  })
})
```

</details>

<br/>

## โช ๏ธ 3.9 Have one E2E smoke test that just travels across the site map

:white_check_mark: **Do:** For production monitoring and development-time sanity check, run a single E2E test that visits all/most of the site pages and ensures no one breaks. This type of test brings a great return on investment as it's very easy to write and maintain, but it can detect any kind of failure including functional, network and deployment issues. Other styles of smoke and sanity checking are not as reliable and exhaustive - some ops teams just ping the home page (production) or developers who run many integration tests which don't discover packaging and browser issues. Goes without saying that the smoke test doesn't replace functional tests rather just aim to serve as a quick smoke detector

<br/>

โ **Otherwise:** Everything might seem perfect, all tests pass, production health-check is also positive but the Payment component had some packaging issue and only the /Payment route is not rendering

<br/>

<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :clap: Doing It Right Example: Smoke travelling across all pages

![](https://img.shields.io/badge/๐จ%20Example%20using%20Cypress-blue.svg "Using Cypress to illustrate the idea")

```javascript
it("When doing smoke testing over all page, should load them all successfully", () => {
  // exemplified using Cypress but can be implemented easily
  // using any E2E suite
  cy.visit("https://mysite.com/home");
  cy.contains("Home");
  cy.visit("https://mysite.com/Login");
  cy.contains("Login");
  cy.visit("https://mysite.com/About");
  cy.contains("About");
});
```

</details>

<br/>

## โช ๏ธ 3.10 Expose the tests as a live collaborative document

:white_check_mark: **Do:** Besides increasing app reliability, tests bring another attractive opportunity to the table - serve as live app documentation. Since tests inherently speak at a less-technical and product/UX language, using the right tools they can serve as a communication artifact that greatly aligns all the peers - developers and their customers. For example, some frameworks allow expressing the flow and expectations (i.e. tests plan) using a human-readable language so any stakeholder, including product managers, can read, approve and collaborate on the tests which just became the live requirements document. This technique is also being referred to as 'acceptance test' as it allows the customer to define his acceptance criteria in plain language. This is [BDD (behavior-driven testing)](https://en.wikipedia.org/wiki/Behavior-driven_development) at its purest form. One of the popular frameworks that enable this is [Cucumber which has a JavaScript flavor](https://github.com/cucumber/cucumber-js), see example below. Another similar yet different opportunity, [StoryBook](https://storybook.js.org/), allows exposing UI components as a graphic catalog where one can walk through the various states of each component (e.g. render a grid w/o filters, render that grid with multiple rows or with none, etc), see how it looks like, and how to trigger that state - this can appeal also to product folks but mostly serves as live doc for developers who consume those components.

โ **Otherwise:** After investing top resources on testing, it's just a pity not to leverage this investment and win great value

<br/>

<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :clap: Doing It Right Example: Describing tests in human-language using cucumber-js

![](https://img.shields.io/badge/๐จ%20Example%20using%20Cucumber-blue.svg "Examples using Cucumber")

```text
This is how one can describe tests using cucumber: plain language that allows anyone to understand and collaborate

Feature: Twitter new tweet

  I want to tweet something in Twitter

  @focus
  Scenario: Tweeting from the home page
    Given I open Twitter home
    Given I click on "New tweet" button
    Given I type "Hello followers!" in the textbox
    Given I click on "Submit" button
    Then I see message "Tweet saved"
```

### :clap: Doing It Right Example: Visualizing our components, their various states and inputs using Storybook

![](https://img.shields.io/badge/๐จ%20Example%20using%20StoryBook-blue.svg "Using StoryBook")

![alt text](assets/story-book.jpg "Storybook")

</details>

<br/><br/>

## โช ๏ธ 3.11 Detect visual issues with automated tools

:white_check_mark: **Do:** Setup automated tools to capture UI screenshots when changes are presented and detect visual issues like content overlapping or breaking. This ensures that not only the right data is prepared but also the user can conveniently see it. This technique is not widely adopted, our testing mindset leans toward functional tests but it's the visuals what the user experience and with so many device types it's very easy to overlook some nasty UI bug. Some free tools can provide the basics - generate and save screenshots for the inspection of human eyes. While this approach might be sufficient for small apps, it's flawed as any other manual testing that demands human labor anytime something changes. On the other hand, it's quite challenging to detect UI issues automatically due to the lack of clear definition - this is where the field of 'Visual Regression' chime in and solve this puzzle by comparing old UI with the latest changes and detect differences. Some OSS/free tools can provide some of this functionality (e.g. [wraith](https://github.com/BBC-News/wraith), [PhantomCSS](<[https://github.com/HuddleEng/PhantomCSS](https://github.com/HuddleEng/PhantomCSS)>) but might charge significant setup time. The commercial line of tools (e.g. [Applitools](https://applitools.com/), [Percy.io](https://percy.io/)) takes is a step further by smoothing the installation and packing advanced features like management UI, alerting, smart capturing by eliminating 'visual noise' (e.g. ads, animations) and even root cause analysis of the DOM/CSS changes that led to the issue

<br/>

โ **Otherwise:** How good is a content page that display great content (100% tests passed), loads instantly but half of the content area is hidden?

<br/>

<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :thumbsdown: Anti-Pattern Example: A typical visual regression - right content that is served badly

![alt text](assets/amazon-visual-regression.jpeg "Amazon page breaks")

<br/>

### :clap: Doing It Right Example: Configuring wraith to capture and compare UI snapshots

![](https://img.shields.io/badge/๐จ%20Example%20using%20Wraith-blue.svg "Using Wraith")

```
โ# Add as many domains as necessary. Key will act as a labelโ

domains:
  english: "http://www.mysite.com"โ

โ# Type screen widths below, here are a couple of examplesโ

screen_widths:

  - 600โ
  - 768โ
  - 1024โ
  - 1280โ

โ# Type page URL paths below, here are a couple of examplesโ
paths:
  about:
    path: /about
    selector: '.about'โ
  subscribe:
      selector: '.subscribe'โ
    path: /subscribe
```

### :clap: Doing It Right Example: Using Applitools to get snapshot comparison and other advanced features

![](https://img.shields.io/badge/๐จ%20Example%20using%20AppliTools-blue.svg "Using Applitools") ![](https://img.shields.io/badge/๐จ%20Example%20using%20Cypress-blue.svg "Using Cypress to illustrate the idea")

```javascript
import * as todoPage from "../page-objects/todo-page";

describe("visual validation", () => {
  before(() => todoPage.navigate());
  beforeEach(() => cy.eyesOpen({ appName: "TAU TodoMVC" }));
  afterEach(() => cy.eyesClose());

  it("should look good", () => {
    cy.eyesCheckWindow("empty todo list");
    todoPage.addTodo("Clean room");
    todoPage.addTodo("Learn javascript");
    cy.eyesCheckWindow("two todos");
    todoPage.toggleTodo(0);
    cy.eyesCheckWindow("mark as completed");
  });
});
```

</details>

<br/><br/>

# Section 4๏ธโฃ: Measuring Test Effectiveness

<br/><br/>

## โช ๏ธ 4.1 Get enough coverage for being confident, ~80% seems to be the lucky number

:white_check_mark: **Do:** The purpose of testing is to get enough confidence for moving fast, obviously the more code is tested the more confident the team can be. Coverage is a measure of how many code lines (and branches, statements, etc) are being reached by the tests. So how much is enough? 10โ30% is obviously too low to get any sense about the build correctness, on the other side 100% is very expensive and might shift your focus from the critical paths to the exotic corners of the code. The long answer is that it depends on many factors like the type of applicationโโโif youโre building the next generation of Airbus A380 than 100% is a must, for a cartoon pictures website 50% might be too much. Although most of the testing enthusiasts claim that the right coverage threshold is contextual, most of them also mention the number 80% as a thumb of a rule ([Fowler: โin the upper 80s or 90sโ](https://martinfowler.com/bliki/TestCoverage.html)) that presumably should satisfy most of the applications.

Implementation tips: You may want to configure your continuous integration (CI) to have a coverage threshold ([Jest link](https://jestjs.io/docs/en/configuration.html#collectcoverage-boolean)) and stop a build that doesnโt stand to this standard (itโs also possible to configure threshold per component, see code example below). On top of this, consider detecting build coverage decrease (when a newly committed code has less coverage)โโโthis will push developers raising or at least preserving the amount of tested code. All that said, coverage is only one measure, a quantitative based one, that is not enough to tell the robustness of your testing. And it can also be fooled as illustrated in the next bullets

<br/>

โ **Otherwise:** Confidence and numbers go hand in hand, without really knowing that you tested most of the systemโโโthere will also be some fear and fear will slow you down

<br/>

<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :clap: Example: A typical coverage report

![alt text](assets/bp-18-yoni-goldberg-code-coverage.png "A typical coverage report")

<br/>

### :clap: Doing It Right Example: Setting up coverage per component (using Jest)

![](https://img.shields.io/badge/๐จ%20Example%20using%20Jest-blue.svg "Using Jest")

![alt text](assets/bp-18-code-coverage2.jpeg "Setting up coverage per component (using Jest)")

</details>

<br/><br/>

## โช ๏ธ 4.2 Inspect coverage reports to detect untested areas and other oddities

:white_check_mark: **Do:** Some issues sneak just under the radar and are really hard to find using traditional tools. These are not really bugs but more of surprising application behavior that might have a severe impact. For example, often some code areas are never or rarely being invokedโโโyou thought that the โPricingCalculatorโ class is always setting the product price but it turns out it is actually never invoked although we have 10000 products in DB and many salesโฆ Code coverage reports help you realize whether the application behaves the way you believe it does. Other than that, it can also highlight which types of code is not testedโโโbeing informed that 80% of the code is tested doesnโt tell whether the critical parts are covered. Generating reports is easyโโโjust run your app in production or during testing with coverage tracking and then see colorful reports that highlight how frequent each code area is invoked. If you take your time to glimpse into this dataโโโyou might find some gotchas
<br/>

โ **Otherwise:** If you donโt know which parts of your code are left un-tested, you donโt know where the issues might come from

<br/>

<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :thumbsdown: Anti-Pattern Example: Whatโs wrong with this coverage report?

Based on a real-world scenario where we tracked our application usage in QA and find out interesting login patterns (Hint: the amount of login failures is non-proportional, something is clearly wrong. Finally it turned out that some frontend bug keeps hitting the backend login API)

![alt text](assets/bp-19-coverage-yoni-goldberg-nodejs-consultant.png "Whatโs wrong with this coverage report?")

</details>

<br/><br/>

## โช ๏ธ 4.3 Measure logical coverage using mutation testing

:white_check_mark: **Do:** The Traditional Coverage metric often lies: It may show you 100% code coverage, but none of your functions, even not one, return the right response. How come? it simply measures over which lines of code the test visited, but it doesnโt check if the tests actually tested anythingโโโasserted for the right response. Like someone whoโs traveling for business and showing his passport stampsโโโthis doesnโt prove any work done, only that he visited few airports and hotels.

Mutation-based testing is here to help by measuring the amount of code that was actually TESTED not just VISITED. [Stryker](https://stryker-mutator.io/) is a JavaScript library for mutation testing and the implementation is really neat:

(1) it intentionally changes the code and โplants bugsโ. For example the code newOrder.price===0 becomes newOrder.price!=0. This โbugsโ are called mutations

(2) it runs the tests, if all succeed then we have a problemโโโthe tests didnโt serve their purpose of discovering bugs, the mutations are so-called survived. If the tests failed, then great, the mutations were killed.

Knowing that all or most of the mutations were killed gives much higher confidence than traditional coverage and the setup time is similar
<br/>

โ **Otherwise:** Youโll be fooled to believe that 85% coverage means your test will detect bugs in 85% of your code

<br/>

<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :thumbsdown: Anti-Pattern Example: 100% coverage, 0% testing

![](https://img.shields.io/badge/๐จ%20Example%20using%20Stryker-blue.svg "Using Stryker")

```javascript
function addNewOrder(newOrder) {
  logger.log(`Adding new order ${newOrder}`);
  DB.save(newOrder);
  Mailer.sendMail(newOrder.assignee, `A new order was places ${newOrder}`);

  return { approved: true };
}

it("Test addNewOrder, don't use such test names", () => {
  addNewOrder({ assignee: "John@mailer.com", price: 120 });
}); //Triggers 100% code coverage, but it doesn't check anything
```

<br/>

### :clap: Doing It Right Example: Stryker reports, a tool for mutation testing, detects and counts the amount of code that is not tested (Mutations)

![alt text](assets/bp-20-yoni-goldberg-mutation-testing.jpeg "Stryker reports, a tool for mutation testing, detects and counts the amount of code that is not tested (Mutations)")

</details>

<br/><br/>

## โช ๏ธ4.4 Preventing test code issues with Test linters

:white_check_mark: **Do:** A set of ESLint plugins were built specifically for inspecting the tests code patterns and discover issues. For example, [eslint-plugin-mocha](https://www.npmjs.com/package/eslint-plugin-mocha) will warn when a test is written at the global level (not a son of a describe() statement) or when tests are [skipped](https://mochajs.org/#inclusive-tests) which might lead to a false belief that all tests are passing. Similarly, [eslint-plugin-jest](https://github.com/jest-community/eslint-plugin-jest) can, for example, warn when a test has no assertions at all (not checking anything)

<br/>

โ **Otherwise:** Seeing 90% code coverage and 100% green tests will make your face wear a big smile only until you realize that many tests arenโt asserting for anything and many test suites were just skipped. Hopefully, you didnโt deploy anything based on this false observation

<br/>
<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :thumbsdown: Anti-Pattern Example: A test case full of errors, luckily all are caught by Linters

```javascript
describe("Too short description", () => {
  const userToken = userService.getDefaultToken() // *error:no-setup-in-describe, use hooks (sparingly) instead
  it("Some description", () => {});//* error: valid-test-description. Must include the word "Should" + at least 5 words
});

it.skip("Test name", () => {// *error:no-skipped-tests, error:error:no-global-tests. Put tests only under describe or suite
  expect("somevalue"); // error:no-assert
});

it("Test name", () => {// *error:no-identical-title. Assign unique titles to tests
});
```

</details>

<br/><br/>

# Section 5๏ธโฃ: CI and Other Quality Measures

<br/><br/>

## โช ๏ธ 5.1 Enrich your linters and abort builds that have linting issues

:white_check_mark: **Do:** Linters are a free lunch, with 5 min setup you get for free an auto-pilot guarding your code and catching significant issue as you type. Gone are the days where linting was about cosmetics (no semi-colons!). Nowadays, Linters can catch severe issues like errors that are not thrown correctly and losing information. On top of your basic set of rules (like [ESLint standard](https://www.npmjs.com/package/eslint-plugin-standard) or [Airbnb style](https://www.npmjs.com/package/eslint-config-airbnb)), consider including some specializing Linters like [eslint-plugin-chai-expect](https://www.npmjs.com/package/eslint-plugin-chai-expect) that can discover tests without assertions, [eslint-plugin-promise](https://www.npmjs.com/package/eslint-plugin-promise?activeTab=readme) can discover promises with no resolve (your code will never continue), [eslint-plugin-security](https://www.npmjs.com/package/eslint-plugin-security?activeTab=readme) which can discover eager regex expressions that might get used for DOS attacks, and [eslint-plugin-you-dont-need-lodash-underscore](https://www.npmjs.com/package/eslint-plugin-you-dont-need-lodash-underscore) is capable of alarming when the code uses utility library methods that are part of the V8 core methods like Lodash.\_map(โฆ)
<br/>

โ **Otherwise:** Consider a rainy day where your production keeps crashing but the logs donโt display the error stack trace. What happened? Your code mistakenly threw a non-error object and the stack trace was lost, a good reason for banging your head against a brick wall. A 5 min linter setup could detect this TYPO and save your day

<br/>

<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :thumbsdown: Anti-Pattern Example: The wrong Error object is thrown mistakenly, no stack-trace will appear for this error. Luckily, ESLint catches the next production bug

![alt text](assets/bp-21-yoni-goldberg-eslint.jpeg "The wrong Error object is thrown mistakenly, no stack-trace will appear for this error. Luckily, ESLint catches the next production bug")

</details>

<br/><br/>

## โช ๏ธ 5.2 Shorten the feedback loop with local developer-CI

:white_check_mark: **Do:** Using a CI with shiny quality inspections like testing, linting, vulnerabilities check, etc? Help developers run this pipeline also locally to solicit instant feedback and shorten the [feedback loop](https://www.gocd.org/2016/03/15/are-you-ready-for-continuous-delivery-part-2-feedback-loops/). Why? an efficient testing process constitutes many and iterative loops: (1) try-outs -> (2) feedback -> (3) refactor. The faster the feedback is, the more improvement iterations a developer can perform per-module and perfect the results. On the flip, when the feedback is late to come fewer improvement iterations could be packed into a single day, the team might already move forward to another topic/task/module and might not be up for refining that module.

Practically, some CI vendors (Example: [CircleCI local CLI](https://circleci.com/docs/2.0/local-cli/)) allow running the pipeline locally. Some commercial tools like [wallaby provide highly-valuable & testing insights](https://wallabyjs.com/) as a developer prototype (no affiliation). Alternatively, you may just add npm script to package.json that runs all the quality commands (e.g. test, lint, vulnerabilities)โโโuse tools like [concurrently](https://www.npmjs.com/package/concurrently) for parallelization and non-zero exit code if one of the tools failed. Now the developer should just invoke one commandโโโe.g. โnpm run qualityโโโโto get instant feedback. Consider also aborting a commit if the quality check failed using a githook ([husky can help](https://github.com/typicode/husky))
<br/>

โ **Otherwise:** When the quality results arrive the day after the code, testing doesnโt become a fluent part of development rather an after the fact formal artifact

<br/>

<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :clap: Doing It Right Example: npm scripts that perform code quality inspection, all are run in parallel on demand or when a developer is trying to push new code

```json
{
  "scripts": {
    "inspect:sanity-testing": "mocha **/**--test.js --grep \"sanity\"",
    "inspect:lint": "eslint .",
    "inspect:vulnerabilities": "npm audit",
    "inspect:license": "license-checker --failOn GPLv2",
    "inspect:complexity": "plato .",
    "inspect:all": "concurrently -c \"bgBlue.bold,bgMagenta.bold,yellow\" \"npm:inspect:quick-testing\" \"npm:inspect:lint\" \"npm:inspect:vulnerabilities\" \"npm:inspect:license\""
  },
  "husky": {
    "hooks": {
      "precommit": "npm run inspect:all",
      "prepush": "npm run inspect:all"
    }
  }
}
```

</details>

<br/><br/>

## โช ๏ธ5.3 Perform e2e testing over a true production-mirror

:white_check_mark: **Do:** End to end (e2e) testing are the main challenge of every CI pipelineโโโcreating an identical ephemeral production mirror on the fly with all the related cloud services can be tedious and expensive. Finding the best compromise is your game: [Docker-compose](https://serverless.com/) allows crafting isolated dockerized environment with identical containers using a single plain text file but the backing technology (e.g. networking, deployment model) is different from real-world productions. You may combine it with [โAWS Localโ](https://github.com/localstack/localstack) to work with a stub of the real AWS services. If you went [serverless](https://serverless.com/) multiple frameworks like serverless and [AWS SAM](https://docs.aws.amazon.com/lambda/latest/dg/serverless_app.html) allows the local invocation of FaaS code.

The huge Kubernetes ecosystem is yet to formalize a standard convenient tool for local and CI-mirroring though many new tools are launched frequently. One approach is running a โminimized-Kubernetesโ using tools like [Minikube](https://kubernetes.io/docs/setup/minikube/) and [MicroK8s](https://microk8s.io/) which resemble the real thing only come with less overhead. Another approach is testing over a remote โreal-Kubernetesโ, some CI providers (e.g. [Codefresh](https://codefresh.io/)) has native integration with Kubernetes environment and make it easy to run the CI pipeline over the real thing, others allow custom scripting against a remote Kubernetes.
<br/>

โ **Otherwise:** Using different technologies for production and testing demands maintaining two deployment models and keeps the developers and the ops team separated

<br/>

<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :clap: Example: a CI pipeline that generates Kubernetes cluster on the fly <a href="https://container-solutions.com/dynamic-environments-kubernetes/" data-href="https://container-solutions.com/dynamic-environments-kubernetes/" class="markup--anchor markup--p-anchor" rel="noopener nofollow" target="_blank">([Credit: Dynamic-environments Kubernetes](https://container-solutions.com/dynamic-environments-kubernetes/))</a>

<pre name="38d9" id="38d9" class="graf graf--pre graf-after--p">deploy:<br>stage: deploy<br>image: registry.gitlab.com/gitlab-examples/kubernetes-deploy<br>script:<br>- ./configureCluster.sh $KUBE_CA_PEM_FILE $KUBE_URL $KUBE_TOKEN<br>- kubectl create ns $NAMESPACE<br>- kubectl create secret -n $NAMESPACE docker-registry gitlab-registry --docker-server="$CI_REGISTRY" --docker-username="$CI_REGISTRY_USER" --docker-password="$CI_REGISTRY_PASSWORD" --docker-email="$GITLAB_USER_EMAIL"<br>- mkdir .generated<br>- echo "$CI_BUILD_REF_NAME-$CI_BUILD_REF"<br>- sed -e "s/TAG/$CI_BUILD_REF_NAME-$CI_BUILD_REF/g" templates/deals.yaml | tee ".generated/deals.yaml"<br>- kubectl apply --namespace $NAMESPACE -f .generated/deals.yaml<br>- kubectl apply --namespace $NAMESPACE -f templates/my-sock-shop.yaml<br>environment:<br>name: test-for-ci</pre>

</details>

<br/><br/>

## โช ๏ธ5.4 Parallelize test execution

:white_check_mark: **Do:** When done right, testing is your 24/7 friend providing almost instant feedback. In practice, executing 500 CPU-bounded unit test on a single thread can take too long. Luckily, modern test runners and CI platforms (like [Jest](https://github.com/facebook/jest), [AVA](https://github.com/avajs/ava) and [Mocha extensions](https://github.com/yandex/mocha-parallel-tests)) can parallelize the test into multiple processes and achieve significant improvement in feedback time. Some CI vendors do also parallelize tests across containers (!) which shortens the feedback loop even further. Whether locally over multiple processes, or over some cloud CLI using multiple machinesโโโparallelizing demand keeping the tests autonomous as each might run on different processes

โ **Otherwise:** Getting test results 1 hour long after pushing new code, as you already code the next features, is a great recipe for making testing less relevant

<br/>

<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :clap: Doing It Right Example: Mocha parallel & Jest easily outrun the traditional Mocha thanks to testing parallelization ([Credit: JavaScript Test-Runners Benchmark](https://medium.com/dailyjs/javascript-test-runners-benchmark-3a78d4117b4))

![alt text](assets/bp-24-yonigoldberg-jest-parallel.png "Mocha parallel & Jest easily outrun the traditional Mocha thanks to testing parallelization (Credit: JavaScript Test-Runners Benchmark)")

</details>

<br/><br/>

## โช ๏ธ5.5 Stay away from legal issues using license and plagiarism check

:white_check_mark: **Do:** Licensing and plagiarism issues are probably not your main concern right now, but why not tick this box as well in 10 minutes? A bunch of npm packages like [license check](https://www.npmjs.com/package/license-checker) and [plagiarism check](https://www.npmjs.com/package/plagiarism-checker) (commercial with free plan) can be easily baked into your CI pipeline and inspect for sorrows like dependencies with restrictive licenses or code that was copy-pasted from Stack Overflow and apparently violates some copyrights

โ **Otherwise:** Unintentionally, developers might use packages with inappropriate licenses or copy paste commercial code and run into legal issues

<br/>

<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :clap: Doing It Right Example:

```shell
# install license-checker in your CI environment or also locally
npm install -g license-checker

# ask it to scan all licenses and fail with exit code other than 0 if it found unauthorized license. The CI system should catch this failure and stop the build
license-checker --summary --failOn BSD
```

<br/>

![alt text](assets/bp-25-nodejs-licsense.png)

</details>

<br/><br/>

## โช ๏ธ5.6 Constantly inspect for vulnerable dependencies

:white_check_mark: **Do:** Even the most reputable dependencies such as Express have known vulnerabilities. This can get easily tamed using community tools such as [npm audit](https://docs.npmjs.com/getting-started/running-a-security-audit), or commercial tools like [snyk](https://snyk.io/) (offer also a free community version). Both can be invoked from your CI on every build

โ **Otherwise:** Keeping your code clean from vulnerabilities without dedicated tools will require to constantly follow online publications about new threats. Quite tedious

<br/>

<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :clap: Example: NPM Audit result

![alt text](assets/bp-26-npm-audit-snyk.png "NPM Audit result")

</details>

<br/><br/>

## โช ๏ธ5.7 Automate dependency updates

:white_check_mark: **Do:** Yarn and npm latest introduction of package-lock.json introduced a serious challenge (the road to hell is paved with good intentions)โโโby default now, packages are no longer getting updates. Even a team running many fresh deployments with โnpm installโ & โnpm updateโ wonโt get any new updates. This leads to subpar dependent packages versions at best or to vulnerable code at worst. Teams now rely on developers goodwill and memory to manually update the package.json or use tools [like ncu](https://www.npmjs.com/package/npm-check-updates) manually. A more reliable way could be to automate the process of getting the most reliable dependency versions, though there are no silver bullet solutions yet there are two possible automation roads:

(1) CI can fail builds that have obsolete dependenciesโโโusing tools like [โnpm outdatedโ](https://docs.npmjs.com/cli/outdated) or โnpm-check-updates (ncu)โ . Doing so will enforce developers to update dependencies.

(2) Use commercial tools that scan the code and automatically send pull requests with updated dependencies. One interesting question remaining is what should be the dependency update policyโโโupdating on every patch generates too many overhead, updating right when a major is released might point to an unstable version (many packages found vulnerable on the very first days after being released, [see the](https://nodesource.com/blog/a-high-level-post-mortem-of-the-eslint-scope-security-incident/) eslint-scope incident).

An efficient update policy may allow some โvesting periodโโโโlet the code lag behind the @latest for some time and versions before considering the local copy as obsolete (e.g. local version is 1.3.1 and repository version is 1.3.8)
<br/>

โ **Otherwise:** Your production will run packages that have been explicitly tagged by their author as risky

<br/>

<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :clap: Example: [ncu](https://www.npmjs.com/package/npm-check-updates) can be used manually or within a CI pipeline to detect to which extent the code lag behind the latest versions

![alt text](assets/bp-27-yoni-goldberg-npm.png "ncu can be used manually or within a CI pipeline to detect to which extent the code lag behind the latest versions")

</details>

<br/><br/>

## โช ๏ธ 5.8 Other, non-Node related, CI tips

:white_check_mark: **Do:** This post is focused on testing advice that is related to, or at least can be exemplified with Node JS. This bullet, however, groups few non-Node related tips that are well-known

 <ol class="postList"><li name="e3e4" id="e3e4" class="graf graf--li graf-after--p">Use a declarative syntax. This is the only option for most vendors but older versions of Jenkins allows using code or UI</li><li name="1fdc" id="1fdc" class="graf graf--li graf-after--li">Opt for a vendor that has native Docker support</li><li name="edcd" id="edcd" class="graf graf--li graf-after--li">Fail early, run your fastest tests first. Create a โSmoke testingโ step/milestone that groups multiple fast inspections (e.g. linting, unit tests) and provide snappy feedback to the code committer</li><li name="0375" id="0375" class="graf graf--li graf-after--li">Make it easy to skim-through all build artifacts including test reports, coverage reports, mutation reports, logs, etc</li><li name="df82" id="df82" class="graf graf--li graf-after--li">Create multiple pipelines/jobs for each event, reuse steps between them. For example, configure a job for feature branch commits and a different one for master PR. Let each reuse logic using shared steps (most vendors provide some mechanism for code reuse)</li><li name="19b0" id="19b0" class="graf graf--li graf-after--li">Never embed secrets in a job declaration, grab them from a secret store or from the jobโs configuration</li><li name="b70d" id="b70d" class="graf graf--li graf-after--li">Explicitly bump version in a release build or at least ensure the developer did so</li><li name="957c" id="957c" class="graf graf--li graf-after--li">Build only once and perform all the inspections over the single build artifact (e.g. Docker image)</li><li name="339b" id="339b" class="graf graf--li graf-after--li">Test in an ephemeral environment that doesnโt drift state between builds. Caching node_modules might be the only exception</li></ol>
<br/>

โ **Otherwise:** Youโll miss years of wisdom

<br/><br/>

## โช ๏ธ 5.9 Build matrix: Run the same CI steps using multiple Node versions

:white_check_mark: **Do:** Quality checking is about serendipity, the more ground you cover the luckier you get in detecting issues early. When developing reusable packages or running a multi-customer production with various configuration and Node versions, the CI must run the pipeline of tests over all the permutations of configurations. For example, assuming we use MySQL for some customers and Postgres for othersโโโsome CI vendors support a feature called โMatrixโ which allow running the suit of testing against all permutations of MySQL, Postgres and multiple Node version like 8, 9 and 10. This is done using configuration only without any additional effort (assuming you have testing or any other quality checks). Other CIs who doesnโt support Matrix might have extensions or tweaks to allow that
<br/>

โ **Otherwise:** So after doing all that hard work of writing testing are we going to let bugs sneak in only because of configuration issues?

<br/>

<details><summary>โ <b>Code Examples</b></summary>

<br/>

### :clap: Example: Using Travis (CI vendor) build definition to run the same test over multiple Node versions

<pre name="f909" id="f909" class="graf graf--pre graf-after--p">language: node_js<br>node_js:<br>  - "7"<br>  - "6"<br>  - "5"<br>  - "4"<br>install:<br>  - npm install<br>script:<br>  - npm run test</pre>
</details>

<br/><br/>

# Team

## Yoni Goldberg

<br/>
<img width="480px" src="assets/yoni-goldberg.jpg"/>
<br/>

**Role:** Writer

**About:** I'm an independent consultant who works with Fortune 500 companies and garage startups on polishing their JS & Node.js applications. More than any other topic I'm fascinated by and aims to master the art of testing. I'm also the author of [Node.js Best Practices](https://github.com/goldbergyoni/nodebestpractices)

**๐ Online Course:** Liked this guide and wish to take your testing skills to the extreme? Consider visiting my comprehensive course [Testing Node.js & JavaScript From A To Z](https://www.testjavascript.com)

<br/>

**Follow:**

- [๐ฆ Twitter](https://twitter.com/goldbergyoni/)
- [๐ Contact](https://testjavascript.com/contact-2/)
- [โ๏ธ Newsletter](https://testjavascript.com/newsletter//)

<br/>
<hr/>
<br/>

## [Bruno Scheufler](https://github.com/BrunoScheufler)

**Role:** Tech reviewer and advisor

Took care to revise, improve, lint and polish all the texts

**About:** full-stack web engineer, Node.js & GraphQL enthusiast

<hr/>
<br/>

## [Ido Richter](https://github.com/idori)

**Role:** Concept, design and great advice

**About:** A savvy frontend developer, CSS expert and emojis freak

## [Kyle Martin](https://github.com/js-kyle)

**Role:** Helps keep this project running, and reviews security related practices

**About:** Loves working on Node.js projects and web application security.
